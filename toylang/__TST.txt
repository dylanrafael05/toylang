Program(
    [
        AST {
            content: DeclareFn {
                name: Ident(
                    "puts",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "str",
                        ),
                        type_spec: AST {
                            content: Ptr(
                                AST {
                                    content: Named(
                                        Ident(
                                            "u8",
                                        ),
                                    ),
                                    span: {start = 1:21, end = 1:23},
                                },
                            ),
                            span: {start = 1:20, end = 1:23},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Named(
                            Ident(
                                "i32",
                            ),
                        ),
                        span: {start = 1:25, end = 1:28},
                    },
                ),
            },
            span: {start = 1:0, end = 3:0},
        },
        AST {
            content: DeclareFn {
                name: Ident(
                    "malloc",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "sz",
                        ),
                        type_spec: AST {
                            content: Named(
                                Ident(
                                    "isize",
                                ),
                            ),
                            span: {start = 3:21, end = 3:26},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Ptr(
                            AST {
                                content: Named(
                                    Ident(
                                        "unit",
                                    ),
                                ),
                                span: {start = 3:29, end = 3:33},
                            },
                        ),
                        span: {start = 3:28, end = 3:33},
                    },
                ),
            },
            span: {start = 3:0, end = 5:0},
        },
        AST {
            content: DeclareFn {
                name: Ident(
                    "free",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "_",
                        ),
                        type_spec: AST {
                            content: Ptr(
                                AST {
                                    content: Named(
                                        Ident(
                                            "unit",
                                        ),
                                    ),
                                    span: {start = 5:19, end = 5:23},
                                },
                            ),
                            span: {start = 5:18, end = 5:23},
                        },
                    },
                ],
                ty: None,
            },
            span: {start = 5:0, end = 7:0},
        },
        AST {
            content: Fn {
                name: Ident(
                    "int_to_str",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "n",
                        ),
                        type_spec: AST {
                            content: Named(
                                Ident(
                                    "i32",
                                ),
                            ),
                            span: {start = 7:16, end = 7:19},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Ptr(
                            AST {
                                content: Named(
                                    Ident(
                                        "u8",
                                    ),
                                ),
                                span: {start = 7:22, end = 7:24},
                            },
                        ),
                        span: {start = 7:21, end = 7:24},
                    },
                ),
                body: AST {
                    content: Block(
                        Block {
                            body: [
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "num",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Identifier(
                                                Ident(
                                                    "n",
                                                ),
                                            ),
                                            span: {start = 8:14, end = 8:15},
                                        },
                                    },
                                    span: {start = 8:4, end = 8:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "out",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Cast {
                                                op: AST {
                                                    content: Call {
                                                        func: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "malloc",
                                                                ),
                                                            ),
                                                            span: {start = 9:14, end = 9:20},
                                                        },
                                                        args: [
                                                            AST {
                                                                content: Cast {
                                                                    op: AST {
                                                                        content: Integer(
                                                                            100,
                                                                            None,
                                                                        ),
                                                                        span: {start = 9:21, end = 9:24},
                                                                    },
                                                                    typ: Named(
                                                                        Ident(
                                                                            "isize",
                                                                        ),
                                                                    ),
                                                                },
                                                                span: {start = 9:21, end = 9:33},
                                                            },
                                                        ],
                                                    },
                                                    span: {start = 9:14, end = 9:34},
                                                },
                                                typ: Ptr(
                                                    AST {
                                                        content: Named(
                                                            Ident(
                                                                "u8",
                                                            ),
                                                        ),
                                                        span: {start = 9:39, end = 9:41},
                                                    },
                                                ),
                                            },
                                            span: {start = 9:14, end = 9:41},
                                        },
                                    },
                                    span: {start = 9:4, end = 9:41},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "mem",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Identifier(
                                                Ident(
                                                    "out",
                                                ),
                                            ),
                                            span: {start = 11:14, end = 11:17},
                                        },
                                    },
                                    span: {start = 11:4, end = 11:17},
                                },
                                AST {
                                    content: While {
                                        cond: AST {
                                            content: Binary {
                                                op: NotEquals,
                                                lhs: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "num",
                                                        ),
                                                    ),
                                                    span: {start = 13:10, end = 13:14},
                                                },
                                                rhs: AST {
                                                    content: Integer(
                                                        0,
                                                        None,
                                                    ),
                                                    span: {start = 13:17, end = 13:19},
                                                },
                                            },
                                            span: {start = 13:10, end = 13:19},
                                        },
                                        block: Block {
                                            body: [
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "mem",
                                                                        ),
                                                                    ),
                                                                    span: {start = 14:9, end = 14:12},
                                                                },
                                                            ),
                                                            span: {start = 14:8, end = 14:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Cast {
                                                                        op: AST {
                                                                            content: Integer(
                                                                                48,
                                                                                None,
                                                                            ),
                                                                            span: {start = 14:15, end = 14:17},
                                                                        },
                                                                        typ: Named(
                                                                            Ident(
                                                                                "u8",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    span: {start = 14:15, end = 14:24},
                                                                },
                                                                rhs: AST {
                                                                    content: Cast {
                                                                        op: AST {
                                                                            content: Binary {
                                                                                op: Arith(
                                                                                    Modulo,
                                                                                ),
                                                                                lhs: AST {
                                                                                    content: Identifier(
                                                                                        Ident(
                                                                                            "num",
                                                                                        ),
                                                                                    ),
                                                                                    span: {start = 14:28, end = 14:32},
                                                                                },
                                                                                rhs: AST {
                                                                                    content: Integer(
                                                                                        10,
                                                                                        None,
                                                                                    ),
                                                                                    span: {start = 14:34, end = 14:36},
                                                                                },
                                                                            },
                                                                            span: {start = 14:28, end = 14:36},
                                                                        },
                                                                        typ: Named(
                                                                            Ident(
                                                                                "u8",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    span: {start = 14:26, end = 14:44},
                                                                },
                                                            },
                                                            span: {start = 14:15, end = 14:44},
                                                        },
                                                    },
                                                    span: {start = 14:8, end = 14:44},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "num",
                                                                ),
                                                            ),
                                                            span: {start = 15:8, end = 15:12},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Divide,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "num",
                                                                        ),
                                                                    ),
                                                                    span: {start = 15:14, end = 15:18},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        10,
                                                                        None,
                                                                    ),
                                                                    span: {start = 15:20, end = 15:22},
                                                                },
                                                            },
                                                            span: {start = 15:14, end = 15:22},
                                                        },
                                                    },
                                                    span: {start = 15:8, end = 15:22},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "mem",
                                                                ),
                                                            ),
                                                            span: {start = 16:8, end = 16:12},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "mem",
                                                                        ),
                                                                    ),
                                                                    span: {start = 16:14, end = 16:18},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 16:20, end = 16:21},
                                                                },
                                                            },
                                                            span: {start = 16:14, end = 16:21},
                                                        },
                                                    },
                                                    span: {start = 16:8, end = 16:21},
                                                },
                                            ],
                                            tail: None,
                                        },
                                    },
                                    span: {start = 13:4, end = 17:5},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "memf",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Identifier(
                                                Ident(
                                                    "out",
                                                ),
                                            ),
                                            span: {start = 19:15, end = 19:18},
                                        },
                                    },
                                    span: {start = 19:4, end = 19:18},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "memb",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Binary {
                                                op: Arith(
                                                    Subtract,
                                                ),
                                                lhs: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "mem",
                                                        ),
                                                    ),
                                                    span: {start = 20:15, end = 20:19},
                                                },
                                                rhs: AST {
                                                    content: Integer(
                                                        1,
                                                        None,
                                                    ),
                                                    span: {start = 20:21, end = 20:22},
                                                },
                                            },
                                            span: {start = 20:15, end = 20:22},
                                        },
                                    },
                                    span: {start = 20:4, end = 20:22},
                                },
                                AST {
                                    content: While {
                                        cond: AST {
                                            content: Binary {
                                                op: And,
                                                lhs: AST {
                                                    content: Binary {
                                                        op: NotEquals,
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 22:10, end = 22:15},
                                                        },
                                                        rhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memb",
                                                                ),
                                                            ),
                                                            span: {start = 22:18, end = 22:23},
                                                        },
                                                    },
                                                    span: {start = 22:10, end = 22:23},
                                                },
                                                rhs: AST {
                                                    content: Binary {
                                                        op: NotEquals,
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 22:27, end = 22:32},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Subtract,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 22:35, end = 22:40},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 22:42, end = 22:44},
                                                                },
                                                            },
                                                            span: {start = 22:35, end = 22:44},
                                                        },
                                                    },
                                                    span: {start = 22:27, end = 22:44},
                                                },
                                            },
                                            span: {start = 22:10, end = 22:44},
                                        },
                                        block: Block {
                                            body: [
                                                AST {
                                                    content: Let {
                                                        name: Ident(
                                                            "tmp",
                                                        ),
                                                        ty: None,
                                                        value: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 23:19, end = 23:23},
                                                                },
                                                            ),
                                                            span: {start = 23:18, end = 23:23},
                                                        },
                                                    },
                                                    span: {start = 23:8, end = 23:23},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 24:9, end = 24:13},
                                                                },
                                                            ),
                                                            span: {start = 24:8, end = 24:14},
                                                        },
                                                        rhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 24:17, end = 24:21},
                                                                },
                                                            ),
                                                            span: {start = 24:16, end = 24:21},
                                                        },
                                                    },
                                                    span: {start = 24:8, end = 24:21},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 25:9, end = 25:13},
                                                                },
                                                            ),
                                                            span: {start = 25:8, end = 25:14},
                                                        },
                                                        rhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "tmp",
                                                                ),
                                                            ),
                                                            span: {start = 25:16, end = 25:19},
                                                        },
                                                    },
                                                    span: {start = 25:8, end = 25:19},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 27:8, end = 27:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 27:15, end = 27:20},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 27:22, end = 27:23},
                                                                },
                                                            },
                                                            span: {start = 27:15, end = 27:23},
                                                        },
                                                    },
                                                    span: {start = 27:8, end = 27:23},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memb",
                                                                ),
                                                            ),
                                                            span: {start = 28:8, end = 28:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Subtract,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 28:15, end = 28:20},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 28:22, end = 28:23},
                                                                },
                                                            },
                                                            span: {start = 28:15, end = 28:23},
                                                        },
                                                    },
                                                    span: {start = 28:8, end = 28:23},
                                                },
                                            ],
                                            tail: None,
                                        },
                                    },
                                    span: {start = 22:4, end = 29:5},
                                },
                                AST {
                                    content: Assign {
                                        lhs: AST {
                                            content: Deref(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "mem",
                                                        ),
                                                    ),
                                                    span: {start = 31:5, end = 31:8},
                                                },
                                            ),
                                            span: {start = 31:4, end = 31:9},
                                        },
                                        rhs: AST {
                                            content: Cast {
                                                op: AST {
                                                    content: Integer(
                                                        0,
                                                        None,
                                                    ),
                                                    span: {start = 31:11, end = 31:12},
                                                },
                                                typ: Named(
                                                    Ident(
                                                        "u8",
                                                    ),
                                                ),
                                            },
                                            span: {start = 31:11, end = 31:18},
                                        },
                                    },
                                    span: {start = 31:4, end = 31:18},
                                },
                            ],
                            tail: Some(
                                AST {
                                    content: Identifier(
                                        Ident(
                                            "out",
                                        ),
                                    ),
                                    span: {start = 33:4, end = 34:0},
                                },
                            ),
                        },
                    ),
                    span: {start = 7:26, end = 36:0},
                },
            },
            span: {start = 7:0, end = 36:0},
        },
        AST {
            content: Mod {
                name: Ident(
                    "std",
                ),
                body: [
                    AST {
                        content: Struct(
                            StructDefSpec {
                                name: Ident(
                                    "Test",
                                ),
                                fields: [
                                    ArgSpec {
                                        name: Ident(
                                            "x",
                                        ),
                                        type_spec: AST {
                                            content: Named(
                                                Ident(
                                                    "i32",
                                                ),
                                            ),
                                            span: {start = 55:10, end = 55:13},
                                        },
                                    },
                                    ArgSpec {
                                        name: Ident(
                                            "y",
                                        ),
                                        type_spec: AST {
                                            content: Named(
                                                Ident(
                                                    "i32",
                                                ),
                                            ),
                                            span: {start = 56:10, end = 56:13},
                                        },
                                    },
                                ],
                            },
                        ),
                        span: {start = 53:4, end = 59:4},
                    },
                    AST {
                        content: Fn {
                            name: Ident(
                                "bruh",
                            ),
                            args: [
                                ArgSpec {
                                    name: Ident(
                                        "t",
                                    ),
                                    type_spec: AST {
                                        content: Named(
                                            Ident(
                                                "Test",
                                            ),
                                        ),
                                        span: {start = 59:14, end = 59:18},
                                    },
                                },
                            ],
                            ty: Some(
                                AST {
                                    content: Named(
                                        Ident(
                                            "i32",
                                        ),
                                    ),
                                    span: {start = 59:20, end = 59:23},
                                },
                            ),
                            body: AST {
                                content: Block(
                                    Block {
                                        body: [
                                            AST {
                                                content: Let {
                                                    name: Ident(
                                                        "x",
                                                    ),
                                                    ty: None,
                                                    value: AST {
                                                        content: Dot {
                                                            op: AST {
                                                                content: Identifier(
                                                                    Ident(
                                                                        "t",
                                                                    ),
                                                                ),
                                                                span: {start = 60:16, end = 60:17},
                                                            },
                                                            id: Ident(
                                                                "x",
                                                            ),
                                                        },
                                                        span: {start = 60:16, end = 60:19},
                                                    },
                                                },
                                                span: {start = 60:8, end = 60:19},
                                            },
                                        ],
                                        tail: Some(
                                            AST {
                                                content: Identifier(
                                                    Ident(
                                                        "x",
                                                    ),
                                                ),
                                                span: {start = 61:8, end = 62:4},
                                            },
                                        ),
                                    },
                                ),
                                span: {start = 59:25, end = 63:0},
                            },
                        },
                        span: {start = 59:4, end = 63:0},
                    },
                ],
                scope_id: OnceCell(
                    <uninit>,
                ),
            },
            span: {start = 51:0, end = 63:1},
        },
    ],
)
Program(
    [
        AST {
            content: DeclareFn {
                name: Ident(
                    "puts",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "str",
                        ),
                        type_spec: AST {
                            content: Ptr(
                                AST {
                                    content: Named(
                                        Ident(
                                            "u8",
                                        ),
                                    ),
                                    span: {start = 1:21, end = 1:23},
                                },
                            ),
                            span: {start = 1:20, end = 1:23},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Named(
                            Ident(
                                "i32",
                            ),
                        ),
                        span: {start = 1:25, end = 1:28},
                    },
                ),
            },
            span: {start = 1:0, end = 3:0},
        },
        AST {
            content: DeclareFn {
                name: Ident(
                    "malloc",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "sz",
                        ),
                        type_spec: AST {
                            content: Named(
                                Ident(
                                    "isize",
                                ),
                            ),
                            span: {start = 3:21, end = 3:26},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Ptr(
                            AST {
                                content: Named(
                                    Ident(
                                        "unit",
                                    ),
                                ),
                                span: {start = 3:29, end = 3:33},
                            },
                        ),
                        span: {start = 3:28, end = 3:33},
                    },
                ),
            },
            span: {start = 3:0, end = 5:0},
        },
        AST {
            content: DeclareFn {
                name: Ident(
                    "free",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "_",
                        ),
                        type_spec: AST {
                            content: Ptr(
                                AST {
                                    content: Named(
                                        Ident(
                                            "unit",
                                        ),
                                    ),
                                    span: {start = 5:19, end = 5:23},
                                },
                            ),
                            span: {start = 5:18, end = 5:23},
                        },
                    },
                ],
                ty: None,
            },
            span: {start = 5:0, end = 7:0},
        },
        AST {
            content: Fn {
                name: Ident(
                    "int_to_str",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "n",
                        ),
                        type_spec: AST {
                            content: Named(
                                Ident(
                                    "i32",
                                ),
                            ),
                            span: {start = 7:16, end = 7:19},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Ptr(
                            AST {
                                content: Named(
                                    Ident(
                                        "u8",
                                    ),
                                ),
                                span: {start = 7:22, end = 7:24},
                            },
                        ),
                        span: {start = 7:21, end = 7:24},
                    },
                ),
                body: AST {
                    content: Block(
                        Block {
                            body: [
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "num",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Identifier(
                                                Ident(
                                                    "n",
                                                ),
                                            ),
                                            span: {start = 8:14, end = 8:15},
                                        },
                                    },
                                    span: {start = 8:4, end = 8:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "out",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Cast {
                                                op: AST {
                                                    content: Call {
                                                        func: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "malloc",
                                                                ),
                                                            ),
                                                            span: {start = 9:14, end = 9:20},
                                                        },
                                                        args: [
                                                            AST {
                                                                content: Cast {
                                                                    op: AST {
                                                                        content: Integer(
                                                                            100,
                                                                            None,
                                                                        ),
                                                                        span: {start = 9:21, end = 9:24},
                                                                    },
                                                                    typ: Named(
                                                                        Ident(
                                                                            "isize",
                                                                        ),
                                                                    ),
                                                                },
                                                                span: {start = 9:21, end = 9:33},
                                                            },
                                                        ],
                                                    },
                                                    span: {start = 9:14, end = 9:34},
                                                },
                                                typ: Ptr(
                                                    AST {
                                                        content: Named(
                                                            Ident(
                                                                "u8",
                                                            ),
                                                        ),
                                                        span: {start = 9:39, end = 9:41},
                                                    },
                                                ),
                                            },
                                            span: {start = 9:14, end = 9:41},
                                        },
                                    },
                                    span: {start = 9:4, end = 9:41},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "mem",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Identifier(
                                                Ident(
                                                    "out",
                                                ),
                                            ),
                                            span: {start = 11:14, end = 11:17},
                                        },
                                    },
                                    span: {start = 11:4, end = 11:17},
                                },
                                AST {
                                    content: While {
                                        cond: AST {
                                            content: Binary {
                                                op: NotEquals,
                                                lhs: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "num",
                                                        ),
                                                    ),
                                                    span: {start = 13:10, end = 13:14},
                                                },
                                                rhs: AST {
                                                    content: Integer(
                                                        0,
                                                        None,
                                                    ),
                                                    span: {start = 13:17, end = 13:19},
                                                },
                                            },
                                            span: {start = 13:10, end = 13:19},
                                        },
                                        block: Block {
                                            body: [
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "mem",
                                                                        ),
                                                                    ),
                                                                    span: {start = 14:9, end = 14:12},
                                                                },
                                                            ),
                                                            span: {start = 14:8, end = 14:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Cast {
                                                                        op: AST {
                                                                            content: Integer(
                                                                                48,
                                                                                None,
                                                                            ),
                                                                            span: {start = 14:15, end = 14:17},
                                                                        },
                                                                        typ: Named(
                                                                            Ident(
                                                                                "u8",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    span: {start = 14:15, end = 14:24},
                                                                },
                                                                rhs: AST {
                                                                    content: Cast {
                                                                        op: AST {
                                                                            content: Binary {
                                                                                op: Arith(
                                                                                    Modulo,
                                                                                ),
                                                                                lhs: AST {
                                                                                    content: Identifier(
                                                                                        Ident(
                                                                                            "num",
                                                                                        ),
                                                                                    ),
                                                                                    span: {start = 14:28, end = 14:32},
                                                                                },
                                                                                rhs: AST {
                                                                                    content: Integer(
                                                                                        10,
                                                                                        None,
                                                                                    ),
                                                                                    span: {start = 14:34, end = 14:36},
                                                                                },
                                                                            },
                                                                            span: {start = 14:28, end = 14:36},
                                                                        },
                                                                        typ: Named(
                                                                            Ident(
                                                                                "u8",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    span: {start = 14:26, end = 14:44},
                                                                },
                                                            },
                                                            span: {start = 14:15, end = 14:44},
                                                        },
                                                    },
                                                    span: {start = 14:8, end = 14:44},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "num",
                                                                ),
                                                            ),
                                                            span: {start = 15:8, end = 15:12},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Divide,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "num",
                                                                        ),
                                                                    ),
                                                                    span: {start = 15:14, end = 15:18},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        10,
                                                                        None,
                                                                    ),
                                                                    span: {start = 15:20, end = 15:22},
                                                                },
                                                            },
                                                            span: {start = 15:14, end = 15:22},
                                                        },
                                                    },
                                                    span: {start = 15:8, end = 15:22},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "mem",
                                                                ),
                                                            ),
                                                            span: {start = 16:8, end = 16:12},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "mem",
                                                                        ),
                                                                    ),
                                                                    span: {start = 16:14, end = 16:18},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 16:20, end = 16:21},
                                                                },
                                                            },
                                                            span: {start = 16:14, end = 16:21},
                                                        },
                                                    },
                                                    span: {start = 16:8, end = 16:21},
                                                },
                                            ],
                                            tail: None,
                                        },
                                    },
                                    span: {start = 13:4, end = 17:5},
                                },
                                AST {
                                    content: Error,
                                    span: {start = 1:0, end = 1:0},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "memb",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Binary {
                                                op: Arith(
                                                    Subtract,
                                                ),
                                                lhs: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "mem",
                                                        ),
                                                    ),
                                                    span: {start = 26:15, end = 26:19},
                                                },
                                                rhs: AST {
                                                    content: Integer(
                                                        1,
                                                        None,
                                                    ),
                                                    span: {start = 26:21, end = 26:22},
                                                },
                                            },
                                            span: {start = 26:15, end = 26:22},
                                        },
                                    },
                                    span: {start = 26:4, end = 26:22},
                                },
                                AST {
                                    content: While {
                                        cond: AST {
                                            content: Binary {
                                                op: And,
                                                lhs: AST {
                                                    content: Binary {
                                                        op: NotEquals,
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 28:10, end = 28:15},
                                                        },
                                                        rhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memb",
                                                                ),
                                                            ),
                                                            span: {start = 28:18, end = 28:23},
                                                        },
                                                    },
                                                    span: {start = 28:10, end = 28:23},
                                                },
                                                rhs: AST {
                                                    content: Binary {
                                                        op: NotEquals,
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 28:27, end = 28:32},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Subtract,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 28:35, end = 28:40},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 28:42, end = 28:44},
                                                                },
                                                            },
                                                            span: {start = 28:35, end = 28:44},
                                                        },
                                                    },
                                                    span: {start = 28:27, end = 28:44},
                                                },
                                            },
                                            span: {start = 28:10, end = 28:44},
                                        },
                                        block: Block {
                                            body: [
                                                AST {
                                                    content: Let {
                                                        name: Ident(
                                                            "tmp",
                                                        ),
                                                        ty: None,
                                                        value: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 29:19, end = 29:23},
                                                                },
                                                            ),
                                                            span: {start = 29:18, end = 29:23},
                                                        },
                                                    },
                                                    span: {start = 29:8, end = 29:23},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 30:9, end = 30:13},
                                                                },
                                                            ),
                                                            span: {start = 30:8, end = 30:14},
                                                        },
                                                        rhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 30:17, end = 30:21},
                                                                },
                                                            ),
                                                            span: {start = 30:16, end = 30:21},
                                                        },
                                                    },
                                                    span: {start = 30:8, end = 30:21},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 31:9, end = 31:13},
                                                                },
                                                            ),
                                                            span: {start = 31:8, end = 31:14},
                                                        },
                                                        rhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "tmp",
                                                                ),
                                                            ),
                                                            span: {start = 31:16, end = 31:19},
                                                        },
                                                    },
                                                    span: {start = 31:8, end = 31:19},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 33:8, end = 33:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 33:15, end = 33:20},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 33:22, end = 33:23},
                                                                },
                                                            },
                                                            span: {start = 33:15, end = 33:23},
                                                        },
                                                    },
                                                    span: {start = 33:8, end = 33:23},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memb",
                                                                ),
                                                            ),
                                                            span: {start = 34:8, end = 34:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Subtract,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 34:15, end = 34:20},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 34:22, end = 34:23},
                                                                },
                                                            },
                                                            span: {start = 34:15, end = 34:23},
                                                        },
                                                    },
                                                    span: {start = 34:8, end = 34:23},
                                                },
                                            ],
                                            tail: None,
                                        },
                                    },
                                    span: {start = 28:4, end = 35:5},
                                },
                                AST {
                                    content: Assign {
                                        lhs: AST {
                                            content: Deref(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "mem",
                                                        ),
                                                    ),
                                                    span: {start = 37:5, end = 37:8},
                                                },
                                            ),
                                            span: {start = 37:4, end = 37:9},
                                        },
                                        rhs: AST {
                                            content: Cast {
                                                op: AST {
                                                    content: Integer(
                                                        0,
                                                        None,
                                                    ),
                                                    span: {start = 37:11, end = 37:12},
                                                },
                                                typ: Named(
                                                    Ident(
                                                        "u8",
                                                    ),
                                                ),
                                            },
                                            span: {start = 37:11, end = 37:18},
                                        },
                                    },
                                    span: {start = 37:4, end = 37:18},
                                },
                            ],
                            tail: Some(
                                AST {
                                    content: Identifier(
                                        Ident(
                                            "out",
                                        ),
                                    ),
                                    span: {start = 39:4, end = 40:0},
                                },
                            ),
                        },
                    ),
                    span: {start = 7:26, end = 42:0},
                },
            },
            span: {start = 7:0, end = 42:0},
        },
        AST {
            content: Fn {
                name: Ident(
                    "main",
                ),
                args: [],
                ty: None,
                body: AST {
                    content: Block(
                        Block {
                            body: [
                                AST {
                                    content: Expr(
                                        AST {
                                            content: Call {
                                                func: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "puts",
                                                        ),
                                                    ),
                                                    span: {start = 44:4, end = 44:8},
                                                },
                                                args: [
                                                    AST {
                                                        content: String(
                                                            "Hello, world!",
                                                        ),
                                                        span: {start = 44:9, end = 44:24},
                                                    },
                                                ],
                                            },
                                            span: {start = 44:4, end = 44:25},
                                        },
                                    ),
                                    span: {start = 44:4, end = 44:25},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "x",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Integer(
                                                10,
                                                None,
                                            ),
                                            span: {start = 46:12, end = 46:14},
                                        },
                                    },
                                    span: {start = 46:4, end = 46:14},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "xp",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Addressof(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "x",
                                                        ),
                                                    ),
                                                    span: {start = 47:14, end = 47:15},
                                                },
                                            ),
                                            span: {start = 47:13, end = 47:15},
                                        },
                                    },
                                    span: {start = 47:4, end = 47:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "y",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Deref(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "xp",
                                                        ),
                                                    ),
                                                    span: {start = 49:13, end = 49:15},
                                                },
                                            ),
                                            span: {start = 49:12, end = 49:15},
                                        },
                                    },
                                    span: {start = 49:4, end = 49:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "ya",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Call {
                                                func: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "int_to_str",
                                                        ),
                                                    ),
                                                    span: {start = 51:13, end = 51:23},
                                                },
                                                args: [
                                                    AST {
                                                        content: Identifier(
                                                            Ident(
                                                                "y",
                                                            ),
                                                        ),
                                                        span: {start = 51:24, end = 51:25},
                                                    },
                                                ],
                                            },
                                            span: {start = 51:13, end = 51:26},
                                        },
                                    },
                                    span: {start = 51:4, end = 51:26},
                                },
                                AST {
                                    content: Expr(
                                        AST {
                                            content: Call {
                                                func: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "puts",
                                                        ),
                                                    ),
                                                    span: {start = 53:4, end = 53:8},
                                                },
                                                args: [
                                                    AST {
                                                        content: Identifier(
                                                            Ident(
                                                                "ya",
                                                            ),
                                                        ),
                                                        span: {start = 53:9, end = 53:11},
                                                    },
                                                ],
                                            },
                                            span: {start = 53:4, end = 53:12},
                                        },
                                    ),
                                    span: {start = 53:4, end = 53:12},
                                },
                            ],
                            tail: None,
                        },
                    ),
                    span: {start = 43:0, end = 56:0},
                },
            },
            span: {start = 42:0, end = 56:0},
        },
        AST {
            content: Mod {
                name: Ident(
                    "std",
                ),
                body: [
                    AST {
                        content: Struct(
                            StructDefSpec {
                                name: Ident(
                                    "Test",
                                ),
                                fields: [
                                    ArgSpec {
                                        name: Ident(
                                            "x",
                                        ),
                                        type_spec: AST {
                                            content: Named(
                                                Ident(
                                                    "i32",
                                                ),
                                            ),
                                            span: {start = 60:10, end = 60:13},
                                        },
                                    },
                                    ArgSpec {
                                        name: Ident(
                                            "y",
                                        ),
                                        type_spec: AST {
                                            content: Named(
                                                Ident(
                                                    "i32",
                                                ),
                                            ),
                                            span: {start = 61:10, end = 61:13},
                                        },
                                    },
                                ],
                            },
                        ),
                        span: {start = 58:4, end = 64:4},
                    },
                    AST {
                        content: Fn {
                            name: Ident(
                                "bruh",
                            ),
                            args: [
                                ArgSpec {
                                    name: Ident(
                                        "t",
                                    ),
                                    type_spec: AST {
                                        content: Named(
                                            Ident(
                                                "Test",
                                            ),
                                        ),
                                        span: {start = 64:14, end = 64:18},
                                    },
                                },
                            ],
                            ty: Some(
                                AST {
                                    content: Named(
                                        Ident(
                                            "i32",
                                        ),
                                    ),
                                    span: {start = 64:20, end = 64:23},
                                },
                            ),
                            body: AST {
                                content: Block(
                                    Block {
                                        body: [
                                            AST {
                                                content: Let {
                                                    name: Ident(
                                                        "x",
                                                    ),
                                                    ty: None,
                                                    value: AST {
                                                        content: Dot {
                                                            op: AST {
                                                                content: Identifier(
                                                                    Ident(
                                                                        "t",
                                                                    ),
                                                                ),
                                                                span: {start = 65:16, end = 65:17},
                                                            },
                                                            id: Ident(
                                                                "x",
                                                            ),
                                                        },
                                                        span: {start = 65:16, end = 65:19},
                                                    },
                                                },
                                                span: {start = 65:8, end = 65:19},
                                            },
                                        ],
                                        tail: Some(
                                            AST {
                                                content: Identifier(
                                                    Ident(
                                                        "x",
                                                    ),
                                                ),
                                                span: {start = 66:8, end = 67:4},
                                            },
                                        ),
                                    },
                                ),
                                span: {start = 64:25, end = 68:0},
                            },
                        },
                        span: {start = 64:4, end = 68:0},
                    },
                ],
                scope_id: OnceCell(
                    <uninit>,
                ),
            },
            span: {start = 56:0, end = 68:1},
        },
    ],
)
Program(
    [
        AST {
            content: DeclareFn {
                name: Ident(
                    "puts",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "str",
                        ),
                        type_spec: AST {
                            content: Ptr(
                                AST {
                                    content: Named(
                                        Ident(
                                            "u8",
                                        ),
                                    ),
                                    span: {start = 1:21, end = 1:23},
                                },
                            ),
                            span: {start = 1:20, end = 1:23},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Named(
                            Ident(
                                "i32",
                            ),
                        ),
                        span: {start = 1:25, end = 1:28},
                    },
                ),
            },
            span: {start = 1:0, end = 3:0},
        },
        AST {
            content: DeclareFn {
                name: Ident(
                    "malloc",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "sz",
                        ),
                        type_spec: AST {
                            content: Named(
                                Ident(
                                    "isize",
                                ),
                            ),
                            span: {start = 3:21, end = 3:26},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Ptr(
                            AST {
                                content: Named(
                                    Ident(
                                        "unit",
                                    ),
                                ),
                                span: {start = 3:29, end = 3:33},
                            },
                        ),
                        span: {start = 3:28, end = 3:33},
                    },
                ),
            },
            span: {start = 3:0, end = 5:0},
        },
        AST {
            content: DeclareFn {
                name: Ident(
                    "free",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "_",
                        ),
                        type_spec: AST {
                            content: Ptr(
                                AST {
                                    content: Named(
                                        Ident(
                                            "unit",
                                        ),
                                    ),
                                    span: {start = 5:19, end = 5:23},
                                },
                            ),
                            span: {start = 5:18, end = 5:23},
                        },
                    },
                ],
                ty: None,
            },
            span: {start = 5:0, end = 7:0},
        },
        AST {
            content: Fn {
                name: Ident(
                    "int_to_str",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "n",
                        ),
                        type_spec: AST {
                            content: Named(
                                Ident(
                                    "i32",
                                ),
                            ),
                            span: {start = 7:16, end = 7:19},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Ptr(
                            AST {
                                content: Named(
                                    Ident(
                                        "u8",
                                    ),
                                ),
                                span: {start = 7:22, end = 7:24},
                            },
                        ),
                        span: {start = 7:21, end = 7:24},
                    },
                ),
                body: AST {
                    content: Block(
                        Block {
                            body: [
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "num",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Identifier(
                                                Ident(
                                                    "n",
                                                ),
                                            ),
                                            span: {start = 8:14, end = 8:15},
                                        },
                                    },
                                    span: {start = 8:4, end = 8:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "out",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Cast {
                                                op: AST {
                                                    content: Call {
                                                        func: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "malloc",
                                                                ),
                                                            ),
                                                            span: {start = 9:14, end = 9:20},
                                                        },
                                                        args: [
                                                            AST {
                                                                content: Cast {
                                                                    op: AST {
                                                                        content: Integer(
                                                                            100,
                                                                            None,
                                                                        ),
                                                                        span: {start = 9:21, end = 9:24},
                                                                    },
                                                                    typ: Named(
                                                                        Ident(
                                                                            "isize",
                                                                        ),
                                                                    ),
                                                                },
                                                                span: {start = 9:21, end = 9:33},
                                                            },
                                                        ],
                                                    },
                                                    span: {start = 9:14, end = 9:34},
                                                },
                                                typ: Ptr(
                                                    AST {
                                                        content: Named(
                                                            Ident(
                                                                "u8",
                                                            ),
                                                        ),
                                                        span: {start = 9:39, end = 9:41},
                                                    },
                                                ),
                                            },
                                            span: {start = 9:14, end = 9:41},
                                        },
                                    },
                                    span: {start = 9:4, end = 9:41},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "mem",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Identifier(
                                                Ident(
                                                    "out",
                                                ),
                                            ),
                                            span: {start = 11:14, end = 11:17},
                                        },
                                    },
                                    span: {start = 11:4, end = 11:17},
                                },
                                AST {
                                    content: While {
                                        cond: AST {
                                            content: Binary {
                                                op: NotEquals,
                                                lhs: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "num",
                                                        ),
                                                    ),
                                                    span: {start = 13:10, end = 13:14},
                                                },
                                                rhs: AST {
                                                    content: Integer(
                                                        0,
                                                        None,
                                                    ),
                                                    span: {start = 13:17, end = 13:19},
                                                },
                                            },
                                            span: {start = 13:10, end = 13:19},
                                        },
                                        block: Block {
                                            body: [
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "mem",
                                                                        ),
                                                                    ),
                                                                    span: {start = 14:9, end = 14:12},
                                                                },
                                                            ),
                                                            span: {start = 14:8, end = 14:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Cast {
                                                                        op: AST {
                                                                            content: Integer(
                                                                                48,
                                                                                None,
                                                                            ),
                                                                            span: {start = 14:15, end = 14:17},
                                                                        },
                                                                        typ: Named(
                                                                            Ident(
                                                                                "u8",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    span: {start = 14:15, end = 14:24},
                                                                },
                                                                rhs: AST {
                                                                    content: Cast {
                                                                        op: AST {
                                                                            content: Binary {
                                                                                op: Arith(
                                                                                    Modulo,
                                                                                ),
                                                                                lhs: AST {
                                                                                    content: Identifier(
                                                                                        Ident(
                                                                                            "num",
                                                                                        ),
                                                                                    ),
                                                                                    span: {start = 14:28, end = 14:32},
                                                                                },
                                                                                rhs: AST {
                                                                                    content: Integer(
                                                                                        10,
                                                                                        None,
                                                                                    ),
                                                                                    span: {start = 14:34, end = 14:36},
                                                                                },
                                                                            },
                                                                            span: {start = 14:28, end = 14:36},
                                                                        },
                                                                        typ: Named(
                                                                            Ident(
                                                                                "u8",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    span: {start = 14:26, end = 14:44},
                                                                },
                                                            },
                                                            span: {start = 14:15, end = 14:44},
                                                        },
                                                    },
                                                    span: {start = 14:8, end = 14:44},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "num",
                                                                ),
                                                            ),
                                                            span: {start = 15:8, end = 15:12},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Divide,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "num",
                                                                        ),
                                                                    ),
                                                                    span: {start = 15:14, end = 15:18},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        10,
                                                                        None,
                                                                    ),
                                                                    span: {start = 15:20, end = 15:22},
                                                                },
                                                            },
                                                            span: {start = 15:14, end = 15:22},
                                                        },
                                                    },
                                                    span: {start = 15:8, end = 15:22},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "mem",
                                                                ),
                                                            ),
                                                            span: {start = 16:8, end = 16:12},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "mem",
                                                                        ),
                                                                    ),
                                                                    span: {start = 16:14, end = 16:18},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 16:20, end = 16:21},
                                                                },
                                                            },
                                                            span: {start = 16:14, end = 16:21},
                                                        },
                                                    },
                                                    span: {start = 16:8, end = 16:21},
                                                },
                                            ],
                                            tail: None,
                                        },
                                    },
                                    span: {start = 13:4, end = 17:5},
                                },
                                AST {
                                    content: Error,
                                    span: {start = 1:0, end = 1:0},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "memb",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Binary {
                                                op: Arith(
                                                    Subtract,
                                                ),
                                                lhs: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "mem",
                                                        ),
                                                    ),
                                                    span: {start = 26:15, end = 26:19},
                                                },
                                                rhs: AST {
                                                    content: Integer(
                                                        1,
                                                        None,
                                                    ),
                                                    span: {start = 26:21, end = 26:22},
                                                },
                                            },
                                            span: {start = 26:15, end = 26:22},
                                        },
                                    },
                                    span: {start = 26:4, end = 26:22},
                                },
                                AST {
                                    content: While {
                                        cond: AST {
                                            content: Binary {
                                                op: And,
                                                lhs: AST {
                                                    content: Binary {
                                                        op: NotEquals,
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 28:10, end = 28:15},
                                                        },
                                                        rhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memb",
                                                                ),
                                                            ),
                                                            span: {start = 28:18, end = 28:23},
                                                        },
                                                    },
                                                    span: {start = 28:10, end = 28:23},
                                                },
                                                rhs: AST {
                                                    content: Binary {
                                                        op: NotEquals,
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 28:27, end = 28:32},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Subtract,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 28:35, end = 28:40},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 28:42, end = 28:44},
                                                                },
                                                            },
                                                            span: {start = 28:35, end = 28:44},
                                                        },
                                                    },
                                                    span: {start = 28:27, end = 28:44},
                                                },
                                            },
                                            span: {start = 28:10, end = 28:44},
                                        },
                                        block: Block {
                                            body: [
                                                AST {
                                                    content: Let {
                                                        name: Ident(
                                                            "tmp",
                                                        ),
                                                        ty: None,
                                                        value: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 29:19, end = 29:23},
                                                                },
                                                            ),
                                                            span: {start = 29:18, end = 29:23},
                                                        },
                                                    },
                                                    span: {start = 29:8, end = 29:23},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 30:9, end = 30:13},
                                                                },
                                                            ),
                                                            span: {start = 30:8, end = 30:14},
                                                        },
                                                        rhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 30:17, end = 30:21},
                                                                },
                                                            ),
                                                            span: {start = 30:16, end = 30:21},
                                                        },
                                                    },
                                                    span: {start = 30:8, end = 30:21},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 31:9, end = 31:13},
                                                                },
                                                            ),
                                                            span: {start = 31:8, end = 31:14},
                                                        },
                                                        rhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "tmp",
                                                                ),
                                                            ),
                                                            span: {start = 31:16, end = 31:19},
                                                        },
                                                    },
                                                    span: {start = 31:8, end = 31:19},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 33:8, end = 33:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 33:15, end = 33:20},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 33:22, end = 33:23},
                                                                },
                                                            },
                                                            span: {start = 33:15, end = 33:23},
                                                        },
                                                    },
                                                    span: {start = 33:8, end = 33:23},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memb",
                                                                ),
                                                            ),
                                                            span: {start = 34:8, end = 34:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Subtract,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 34:15, end = 34:20},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 34:22, end = 34:23},
                                                                },
                                                            },
                                                            span: {start = 34:15, end = 34:23},
                                                        },
                                                    },
                                                    span: {start = 34:8, end = 34:23},
                                                },
                                            ],
                                            tail: None,
                                        },
                                    },
                                    span: {start = 28:4, end = 35:5},
                                },
                                AST {
                                    content: Assign {
                                        lhs: AST {
                                            content: Deref(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "mem",
                                                        ),
                                                    ),
                                                    span: {start = 37:5, end = 37:8},
                                                },
                                            ),
                                            span: {start = 37:4, end = 37:9},
                                        },
                                        rhs: AST {
                                            content: Cast {
                                                op: AST {
                                                    content: Integer(
                                                        0,
                                                        None,
                                                    ),
                                                    span: {start = 37:11, end = 37:12},
                                                },
                                                typ: Named(
                                                    Ident(
                                                        "u8",
                                                    ),
                                                ),
                                            },
                                            span: {start = 37:11, end = 37:18},
                                        },
                                    },
                                    span: {start = 37:4, end = 37:18},
                                },
                            ],
                            tail: Some(
                                AST {
                                    content: Identifier(
                                        Ident(
                                            "out",
                                        ),
                                    ),
                                    span: {start = 39:4, end = 40:0},
                                },
                            ),
                        },
                    ),
                    span: {start = 7:26, end = 42:0},
                },
            },
            span: {start = 7:0, end = 42:0},
        },
        AST {
            content: Fn {
                name: Ident(
                    "main",
                ),
                args: [],
                ty: None,
                body: AST {
                    content: Block(
                        Block {
                            body: [
                                AST {
                                    content: Expr(
                                        AST {
                                            content: Call {
                                                func: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "puts",
                                                        ),
                                                    ),
                                                    span: {start = 44:4, end = 44:8},
                                                },
                                                args: [
                                                    AST {
                                                        content: String(
                                                            "Hello, world!",
                                                        ),
                                                        span: {start = 44:9, end = 44:24},
                                                    },
                                                ],
                                            },
                                            span: {start = 44:4, end = 44:25},
                                        },
                                    ),
                                    span: {start = 44:4, end = 44:25},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "x",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Integer(
                                                10,
                                                None,
                                            ),
                                            span: {start = 46:12, end = 46:14},
                                        },
                                    },
                                    span: {start = 46:4, end = 46:14},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "xp",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Addressof(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "x",
                                                        ),
                                                    ),
                                                    span: {start = 47:14, end = 47:15},
                                                },
                                            ),
                                            span: {start = 47:13, end = 47:15},
                                        },
                                    },
                                    span: {start = 47:4, end = 47:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "y",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Deref(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "xp",
                                                        ),
                                                    ),
                                                    span: {start = 49:13, end = 49:15},
                                                },
                                            ),
                                            span: {start = 49:12, end = 49:15},
                                        },
                                    },
                                    span: {start = 49:4, end = 49:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "ya",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Call {
                                                func: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "int_to_str",
                                                        ),
                                                    ),
                                                    span: {start = 51:13, end = 51:23},
                                                },
                                                args: [
                                                    AST {
                                                        content: Identifier(
                                                            Ident(
                                                                "y",
                                                            ),
                                                        ),
                                                        span: {start = 51:24, end = 51:25},
                                                    },
                                                ],
                                            },
                                            span: {start = 51:13, end = 51:26},
                                        },
                                    },
                                    span: {start = 51:4, end = 51:26},
                                },
                                AST {
                                    content: Expr(
                                        AST {
                                            content: Call {
                                                func: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "puts",
                                                        ),
                                                    ),
                                                    span: {start = 53:4, end = 53:8},
                                                },
                                                args: [
                                                    AST {
                                                        content: Identifier(
                                                            Ident(
                                                                "ya",
                                                            ),
                                                        ),
                                                        span: {start = 53:9, end = 53:11},
                                                    },
                                                ],
                                            },
                                            span: {start = 53:4, end = 53:12},
                                        },
                                    ),
                                    span: {start = 53:4, end = 53:12},
                                },
                            ],
                            tail: None,
                        },
                    ),
                    span: {start = 43:0, end = 56:0},
                },
            },
            span: {start = 42:0, end = 56:0},
        },
        AST {
            content: Mod {
                name: Ident(
                    "std",
                ),
                body: [
                    AST {
                        content: Struct(
                            StructDefSpec {
                                name: Ident(
                                    "Test",
                                ),
                                fields: [
                                    ArgSpec {
                                        name: Ident(
                                            "x",
                                        ),
                                        type_spec: AST {
                                            content: Named(
                                                Ident(
                                                    "i32",
                                                ),
                                            ),
                                            span: {start = 60:10, end = 60:13},
                                        },
                                    },
                                    ArgSpec {
                                        name: Ident(
                                            "y",
                                        ),
                                        type_spec: AST {
                                            content: Named(
                                                Ident(
                                                    "i32",
                                                ),
                                            ),
                                            span: {start = 61:10, end = 61:13},
                                        },
                                    },
                                ],
                            },
                        ),
                        span: {start = 58:4, end = 64:4},
                    },
                    AST {
                        content: Fn {
                            name: Ident(
                                "bruh",
                            ),
                            args: [
                                ArgSpec {
                                    name: Ident(
                                        "t",
                                    ),
                                    type_spec: AST {
                                        content: Named(
                                            Ident(
                                                "Test",
                                            ),
                                        ),
                                        span: {start = 64:14, end = 64:18},
                                    },
                                },
                            ],
                            ty: Some(
                                AST {
                                    content: Named(
                                        Ident(
                                            "i32",
                                        ),
                                    ),
                                    span: {start = 64:20, end = 64:23},
                                },
                            ),
                            body: AST {
                                content: Block(
                                    Block {
                                        body: [
                                            AST {
                                                content: Let {
                                                    name: Ident(
                                                        "x",
                                                    ),
                                                    ty: None,
                                                    value: AST {
                                                        content: Dot {
                                                            op: AST {
                                                                content: Identifier(
                                                                    Ident(
                                                                        "t",
                                                                    ),
                                                                ),
                                                                span: {start = 65:16, end = 65:17},
                                                            },
                                                            id: Ident(
                                                                "x",
                                                            ),
                                                        },
                                                        span: {start = 65:16, end = 65:19},
                                                    },
                                                },
                                                span: {start = 65:8, end = 65:19},
                                            },
                                        ],
                                        tail: Some(
                                            AST {
                                                content: Identifier(
                                                    Ident(
                                                        "x",
                                                    ),
                                                ),
                                                span: {start = 66:8, end = 67:4},
                                            },
                                        ),
                                    },
                                ),
                                span: {start = 64:25, end = 68:0},
                            },
                        },
                        span: {start = 64:4, end = 68:0},
                    },
                ],
                scope_id: OnceCell(
                    <uninit>,
                ),
            },
            span: {start = 56:0, end = 68:1},
        },
    ],
)
Program(
    [
        AST {
            content: DeclareFn {
                name: Ident(
                    "puts",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "str",
                        ),
                        type_spec: AST {
                            content: Ptr(
                                AST {
                                    content: Named(
                                        Ident(
                                            "u8",
                                        ),
                                    ),
                                    span: {start = 1:21, end = 1:23},
                                },
                            ),
                            span: {start = 1:20, end = 1:23},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Named(
                            Ident(
                                "i32",
                            ),
                        ),
                        span: {start = 1:25, end = 1:28},
                    },
                ),
            },
            span: {start = 1:0, end = 3:0},
        },
        AST {
            content: DeclareFn {
                name: Ident(
                    "malloc",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "sz",
                        ),
                        type_spec: AST {
                            content: Named(
                                Ident(
                                    "isize",
                                ),
                            ),
                            span: {start = 3:21, end = 3:26},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Ptr(
                            AST {
                                content: Named(
                                    Ident(
                                        "unit",
                                    ),
                                ),
                                span: {start = 3:29, end = 3:33},
                            },
                        ),
                        span: {start = 3:28, end = 3:33},
                    },
                ),
            },
            span: {start = 3:0, end = 5:0},
        },
        AST {
            content: DeclareFn {
                name: Ident(
                    "free",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "_",
                        ),
                        type_spec: AST {
                            content: Ptr(
                                AST {
                                    content: Named(
                                        Ident(
                                            "unit",
                                        ),
                                    ),
                                    span: {start = 5:19, end = 5:23},
                                },
                            ),
                            span: {start = 5:18, end = 5:23},
                        },
                    },
                ],
                ty: None,
            },
            span: {start = 5:0, end = 7:0},
        },
        AST {
            content: Fn {
                name: Ident(
                    "int_to_str",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "n",
                        ),
                        type_spec: AST {
                            content: Named(
                                Ident(
                                    "i32",
                                ),
                            ),
                            span: {start = 7:16, end = 7:19},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Ptr(
                            AST {
                                content: Named(
                                    Ident(
                                        "u8",
                                    ),
                                ),
                                span: {start = 7:22, end = 7:24},
                            },
                        ),
                        span: {start = 7:21, end = 7:24},
                    },
                ),
                body: AST {
                    content: Block(
                        Block {
                            body: [
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "num",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Identifier(
                                                Ident(
                                                    "n",
                                                ),
                                            ),
                                            span: {start = 8:14, end = 8:15},
                                        },
                                    },
                                    span: {start = 8:4, end = 8:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "out",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Cast {
                                                op: AST {
                                                    content: Call {
                                                        func: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "malloc",
                                                                ),
                                                            ),
                                                            span: {start = 9:14, end = 9:20},
                                                        },
                                                        args: [
                                                            AST {
                                                                content: Cast {
                                                                    op: AST {
                                                                        content: Integer(
                                                                            100,
                                                                            None,
                                                                        ),
                                                                        span: {start = 9:21, end = 9:24},
                                                                    },
                                                                    typ: Named(
                                                                        Ident(
                                                                            "isize",
                                                                        ),
                                                                    ),
                                                                },
                                                                span: {start = 9:21, end = 9:33},
                                                            },
                                                        ],
                                                    },
                                                    span: {start = 9:14, end = 9:34},
                                                },
                                                typ: Ptr(
                                                    AST {
                                                        content: Named(
                                                            Ident(
                                                                "u8",
                                                            ),
                                                        ),
                                                        span: {start = 9:39, end = 9:41},
                                                    },
                                                ),
                                            },
                                            span: {start = 9:14, end = 9:41},
                                        },
                                    },
                                    span: {start = 9:4, end = 9:41},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "mem",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Identifier(
                                                Ident(
                                                    "out",
                                                ),
                                            ),
                                            span: {start = 11:14, end = 11:17},
                                        },
                                    },
                                    span: {start = 11:4, end = 11:17},
                                },
                                AST {
                                    content: While {
                                        cond: AST {
                                            content: Binary {
                                                op: NotEquals,
                                                lhs: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "num",
                                                        ),
                                                    ),
                                                    span: {start = 13:10, end = 13:14},
                                                },
                                                rhs: AST {
                                                    content: Integer(
                                                        0,
                                                        None,
                                                    ),
                                                    span: {start = 13:17, end = 13:19},
                                                },
                                            },
                                            span: {start = 13:10, end = 13:19},
                                        },
                                        block: Block {
                                            body: [
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "mem",
                                                                        ),
                                                                    ),
                                                                    span: {start = 14:9, end = 14:12},
                                                                },
                                                            ),
                                                            span: {start = 14:8, end = 14:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Cast {
                                                                        op: AST {
                                                                            content: Integer(
                                                                                48,
                                                                                None,
                                                                            ),
                                                                            span: {start = 14:15, end = 14:17},
                                                                        },
                                                                        typ: Named(
                                                                            Ident(
                                                                                "u8",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    span: {start = 14:15, end = 14:24},
                                                                },
                                                                rhs: AST {
                                                                    content: Cast {
                                                                        op: AST {
                                                                            content: Binary {
                                                                                op: Arith(
                                                                                    Modulo,
                                                                                ),
                                                                                lhs: AST {
                                                                                    content: Identifier(
                                                                                        Ident(
                                                                                            "num",
                                                                                        ),
                                                                                    ),
                                                                                    span: {start = 14:28, end = 14:32},
                                                                                },
                                                                                rhs: AST {
                                                                                    content: Integer(
                                                                                        10,
                                                                                        None,
                                                                                    ),
                                                                                    span: {start = 14:34, end = 14:36},
                                                                                },
                                                                            },
                                                                            span: {start = 14:28, end = 14:36},
                                                                        },
                                                                        typ: Named(
                                                                            Ident(
                                                                                "u8",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    span: {start = 14:26, end = 14:44},
                                                                },
                                                            },
                                                            span: {start = 14:15, end = 14:44},
                                                        },
                                                    },
                                                    span: {start = 14:8, end = 14:44},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "num",
                                                                ),
                                                            ),
                                                            span: {start = 15:8, end = 15:12},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Divide,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "num",
                                                                        ),
                                                                    ),
                                                                    span: {start = 15:14, end = 15:18},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        10,
                                                                        None,
                                                                    ),
                                                                    span: {start = 15:20, end = 15:22},
                                                                },
                                                            },
                                                            span: {start = 15:14, end = 15:22},
                                                        },
                                                    },
                                                    span: {start = 15:8, end = 15:22},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "mem",
                                                                ),
                                                            ),
                                                            span: {start = 16:8, end = 16:12},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "mem",
                                                                        ),
                                                                    ),
                                                                    span: {start = 16:14, end = 16:18},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 16:20, end = 16:21},
                                                                },
                                                            },
                                                            span: {start = 16:14, end = 16:21},
                                                        },
                                                    },
                                                    span: {start = 16:8, end = 16:21},
                                                },
                                            ],
                                            tail: None,
                                        },
                                    },
                                    span: {start = 13:4, end = 17:5},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "memf",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Identifier(
                                                Ident(
                                                    "out",
                                                ),
                                            ),
                                            span: {start = 25:15, end = 25:18},
                                        },
                                    },
                                    span: {start = 25:4, end = 25:18},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "memb",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Binary {
                                                op: Arith(
                                                    Subtract,
                                                ),
                                                lhs: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "mem",
                                                        ),
                                                    ),
                                                    span: {start = 26:15, end = 26:19},
                                                },
                                                rhs: AST {
                                                    content: Integer(
                                                        1,
                                                        None,
                                                    ),
                                                    span: {start = 26:21, end = 26:22},
                                                },
                                            },
                                            span: {start = 26:15, end = 26:22},
                                        },
                                    },
                                    span: {start = 26:4, end = 26:22},
                                },
                                AST {
                                    content: While {
                                        cond: AST {
                                            content: Binary {
                                                op: And,
                                                lhs: AST {
                                                    content: Binary {
                                                        op: NotEquals,
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 28:10, end = 28:15},
                                                        },
                                                        rhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memb",
                                                                ),
                                                            ),
                                                            span: {start = 28:18, end = 28:23},
                                                        },
                                                    },
                                                    span: {start = 28:10, end = 28:23},
                                                },
                                                rhs: AST {
                                                    content: Binary {
                                                        op: NotEquals,
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 28:27, end = 28:32},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Subtract,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 28:35, end = 28:40},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 28:42, end = 28:44},
                                                                },
                                                            },
                                                            span: {start = 28:35, end = 28:44},
                                                        },
                                                    },
                                                    span: {start = 28:27, end = 28:44},
                                                },
                                            },
                                            span: {start = 28:10, end = 28:44},
                                        },
                                        block: Block {
                                            body: [
                                                AST {
                                                    content: Let {
                                                        name: Ident(
                                                            "tmp",
                                                        ),
                                                        ty: None,
                                                        value: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 29:19, end = 29:23},
                                                                },
                                                            ),
                                                            span: {start = 29:18, end = 29:23},
                                                        },
                                                    },
                                                    span: {start = 29:8, end = 29:23},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 30:9, end = 30:13},
                                                                },
                                                            ),
                                                            span: {start = 30:8, end = 30:14},
                                                        },
                                                        rhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 30:17, end = 30:21},
                                                                },
                                                            ),
                                                            span: {start = 30:16, end = 30:21},
                                                        },
                                                    },
                                                    span: {start = 30:8, end = 30:21},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 31:9, end = 31:13},
                                                                },
                                                            ),
                                                            span: {start = 31:8, end = 31:14},
                                                        },
                                                        rhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "tmp",
                                                                ),
                                                            ),
                                                            span: {start = 31:16, end = 31:19},
                                                        },
                                                    },
                                                    span: {start = 31:8, end = 31:19},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 33:8, end = 33:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 33:15, end = 33:20},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 33:22, end = 33:23},
                                                                },
                                                            },
                                                            span: {start = 33:15, end = 33:23},
                                                        },
                                                    },
                                                    span: {start = 33:8, end = 33:23},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memb",
                                                                ),
                                                            ),
                                                            span: {start = 34:8, end = 34:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Subtract,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 34:15, end = 34:20},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 34:22, end = 34:23},
                                                                },
                                                            },
                                                            span: {start = 34:15, end = 34:23},
                                                        },
                                                    },
                                                    span: {start = 34:8, end = 34:23},
                                                },
                                            ],
                                            tail: None,
                                        },
                                    },
                                    span: {start = 28:4, end = 35:5},
                                },
                                AST {
                                    content: Assign {
                                        lhs: AST {
                                            content: Deref(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "mem",
                                                        ),
                                                    ),
                                                    span: {start = 37:5, end = 37:8},
                                                },
                                            ),
                                            span: {start = 37:4, end = 37:9},
                                        },
                                        rhs: AST {
                                            content: Cast {
                                                op: AST {
                                                    content: Integer(
                                                        0,
                                                        None,
                                                    ),
                                                    span: {start = 37:11, end = 37:12},
                                                },
                                                typ: Named(
                                                    Ident(
                                                        "u8",
                                                    ),
                                                ),
                                            },
                                            span: {start = 37:11, end = 37:18},
                                        },
                                    },
                                    span: {start = 37:4, end = 37:18},
                                },
                            ],
                            tail: Some(
                                AST {
                                    content: Identifier(
                                        Ident(
                                            "out",
                                        ),
                                    ),
                                    span: {start = 39:4, end = 40:0},
                                },
                            ),
                        },
                    ),
                    span: {start = 7:26, end = 42:0},
                },
            },
            span: {start = 7:0, end = 42:0},
        },
        AST {
            content: Fn {
                name: Ident(
                    "main",
                ),
                args: [],
                ty: None,
                body: AST {
                    content: Block(
                        Block {
                            body: [
                                AST {
                                    content: Expr(
                                        AST {
                                            content: Call {
                                                func: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "puts",
                                                        ),
                                                    ),
                                                    span: {start = 44:4, end = 44:8},
                                                },
                                                args: [
                                                    AST {
                                                        content: String(
                                                            "Hello, world!",
                                                        ),
                                                        span: {start = 44:9, end = 44:24},
                                                    },
                                                ],
                                            },
                                            span: {start = 44:4, end = 44:25},
                                        },
                                    ),
                                    span: {start = 44:4, end = 44:25},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "x",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Integer(
                                                10,
                                                None,
                                            ),
                                            span: {start = 46:12, end = 46:14},
                                        },
                                    },
                                    span: {start = 46:4, end = 46:14},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "xp",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Addressof(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "x",
                                                        ),
                                                    ),
                                                    span: {start = 47:14, end = 47:15},
                                                },
                                            ),
                                            span: {start = 47:13, end = 47:15},
                                        },
                                    },
                                    span: {start = 47:4, end = 47:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "y",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Deref(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "xp",
                                                        ),
                                                    ),
                                                    span: {start = 49:13, end = 49:15},
                                                },
                                            ),
                                            span: {start = 49:12, end = 49:15},
                                        },
                                    },
                                    span: {start = 49:4, end = 49:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "ya",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Call {
                                                func: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "int_to_str",
                                                        ),
                                                    ),
                                                    span: {start = 51:13, end = 51:23},
                                                },
                                                args: [
                                                    AST {
                                                        content: Identifier(
                                                            Ident(
                                                                "y",
                                                            ),
                                                        ),
                                                        span: {start = 51:24, end = 51:25},
                                                    },
                                                ],
                                            },
                                            span: {start = 51:13, end = 51:26},
                                        },
                                    },
                                    span: {start = 51:4, end = 51:26},
                                },
                                AST {
                                    content: Expr(
                                        AST {
                                            content: Call {
                                                func: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "puts",
                                                        ),
                                                    ),
                                                    span: {start = 53:4, end = 53:8},
                                                },
                                                args: [
                                                    AST {
                                                        content: Identifier(
                                                            Ident(
                                                                "ya",
                                                            ),
                                                        ),
                                                        span: {start = 53:9, end = 53:11},
                                                    },
                                                ],
                                            },
                                            span: {start = 53:4, end = 53:12},
                                        },
                                    ),
                                    span: {start = 53:4, end = 53:12},
                                },
                            ],
                            tail: None,
                        },
                    ),
                    span: {start = 43:0, end = 56:0},
                },
            },
            span: {start = 42:0, end = 56:0},
        },
        AST {
            content: Mod {
                name: Ident(
                    "std",
                ),
                body: [
                    AST {
                        content: Struct(
                            StructDefSpec {
                                name: Ident(
                                    "Test",
                                ),
                                fields: [
                                    ArgSpec {
                                        name: Ident(
                                            "x",
                                        ),
                                        type_spec: AST {
                                            content: Named(
                                                Ident(
                                                    "i32",
                                                ),
                                            ),
                                            span: {start = 60:10, end = 60:13},
                                        },
                                    },
                                    ArgSpec {
                                        name: Ident(
                                            "y",
                                        ),
                                        type_spec: AST {
                                            content: Named(
                                                Ident(
                                                    "i32",
                                                ),
                                            ),
                                            span: {start = 61:10, end = 61:13},
                                        },
                                    },
                                ],
                            },
                        ),
                        span: {start = 58:4, end = 64:4},
                    },
                    AST {
                        content: Fn {
                            name: Ident(
                                "bruh",
                            ),
                            args: [
                                ArgSpec {
                                    name: Ident(
                                        "t",
                                    ),
                                    type_spec: AST {
                                        content: Named(
                                            Ident(
                                                "Test",
                                            ),
                                        ),
                                        span: {start = 64:14, end = 64:18},
                                    },
                                },
                            ],
                            ty: Some(
                                AST {
                                    content: Named(
                                        Ident(
                                            "i32",
                                        ),
                                    ),
                                    span: {start = 64:20, end = 64:23},
                                },
                            ),
                            body: AST {
                                content: Block(
                                    Block {
                                        body: [
                                            AST {
                                                content: Let {
                                                    name: Ident(
                                                        "x",
                                                    ),
                                                    ty: None,
                                                    value: AST {
                                                        content: Dot {
                                                            op: AST {
                                                                content: Identifier(
                                                                    Ident(
                                                                        "t",
                                                                    ),
                                                                ),
                                                                span: {start = 65:16, end = 65:17},
                                                            },
                                                            id: Ident(
                                                                "x",
                                                            ),
                                                        },
                                                        span: {start = 65:16, end = 65:19},
                                                    },
                                                },
                                                span: {start = 65:8, end = 65:19},
                                            },
                                        ],
                                        tail: Some(
                                            AST {
                                                content: Identifier(
                                                    Ident(
                                                        "x",
                                                    ),
                                                ),
                                                span: {start = 66:8, end = 67:4},
                                            },
                                        ),
                                    },
                                ),
                                span: {start = 64:25, end = 68:0},
                            },
                        },
                        span: {start = 64:4, end = 68:0},
                    },
                ],
                scope_id: OnceCell(
                    <uninit>,
                ),
            },
            span: {start = 56:0, end = 68:1},
        },
    ],
)
"  %3 = load i32, ptr %num, align 4" Literal(Int(I32))
; ModuleID = 'output'
source_filename = "output"

%Test = type { i32, i32 }

@0 = private unnamed_addr constant [14 x i8] c"Hello, world!\00", align 1

declare i32 @puts(ptr)

declare ptr @malloc(i64)

declare void @free(ptr)

define ptr @"<global>::int_to_str"(i32 %0) {
entry:
  %num = alloca i32, align 4
  store i32 %0, ptr %num, align 4
  %out = alloca ptr, align 8
  %1 = call ptr @malloc(i64 100)
  store ptr %1, ptr %out, align 8
  %mem = alloca ptr, align 8
  %2 = load ptr, ptr %out, align 8
  store ptr %2, ptr %mem, align 8
  br label %"cond_13:4"

"cond_13:4":                                      ; preds = %"loop_13:4", %entry
  %3 = load i32, ptr %num, align 4
  %4 = icmp eq i32 %3, 0
  %5 = xor i1 %4, true
  br i1 %5, label %"loop_13:4", label %"exit_13:4"

"loop_13:4":                                      ; preds = %"cond_13:4"
  %6 = load ptr, ptr %mem, align 8
  %7 = load i32, ptr %num, align 4
  %8 = srem i32 %7, 10
  %9 = trunc i32 %8 to i8
  %10 = add i8 48, %9
  store i8 %10, ptr %6, align 1
  %11 = load i32, ptr %num, align 4
  %12 = sdiv i32 %11, 10
  store i32 %12, ptr %num, align 4
  %13 = load ptr, ptr %mem, align 8
  %14 = getelementptr i8, ptr %13, i32 1
  store ptr %14, ptr %mem, align 8
  br label %"cond_13:4"

"exit_13:4":                                      ; preds = %"cond_13:4"
  %memf = alloca ptr, align 8
  %15 = load ptr, ptr %out, align 8
  store ptr %15, ptr %memf, align 8
  %memb = alloca ptr, align 8
  %16 = load ptr, ptr %mem, align 8
  %17 = getelementptr i8, ptr %16, i32 -1
  store ptr %17, ptr %memb, align 8
  br label %"cond_28:4"

"cond_28:4":                                      ; preds = %"loop_28:4", %"exit_13:4"
  %18 = load ptr, ptr %memf, align 8
  %19 = load ptr, ptr %memb, align 8
  %20 = icmp eq ptr %18, %19
  %21 = xor i1 %20, true
  br i1 %21, label %"on_first_true_28:10", label %"on_end_and_28:10"

"loop_28:4":                                      ; preds = %"on_end_and_28:10"
  %tmp = alloca i8, align 1
  %22 = load ptr, ptr %memf, align 8
  %23 = load i8, ptr %22, align 1
  store i8 %23, ptr %tmp, align 1
  %24 = load ptr, ptr %memf, align 8
  %25 = load ptr, ptr %memb, align 8
  %26 = load i8, ptr %25, align 1
  store i8 %26, ptr %24, align 1
  %27 = load ptr, ptr %memb, align 8
  %28 = load i8, ptr %tmp, align 1
  store i8 %28, ptr %27, align 1
  %29 = load ptr, ptr %memf, align 8
  %30 = getelementptr i8, ptr %29, i32 1
  store ptr %30, ptr %memf, align 8
  %31 = load ptr, ptr %memb, align 8
  %32 = getelementptr i8, ptr %31, i32 -1
  store ptr %32, ptr %memb, align 8
  br label %"cond_28:4"

"exit_28:4":                                      ; preds = %"on_end_and_28:10"
  %33 = load ptr, ptr %mem, align 8
  store i8 0, ptr %33, align 1
  %34 = load ptr, ptr %out, align 8
  ret ptr %34

"on_first_true_28:10":                            ; preds = %"cond_28:4"
  %35 = load ptr, ptr %memf, align 8
  %36 = load ptr, ptr %memb, align 8
  %37 = getelementptr i8, ptr %36, i32 -1
  %38 = icmp eq ptr %35, %37
  %39 = xor i1 %38, true
  br label %"on_end_and_28:10"

"on_end_and_28:10":                               ; preds = %"on_first_true_28:10", %"cond_28:4"
  %40 = phi i1 [ false, %"cond_28:4" ], [ %39, %"on_first_true_28:10" ]
  br i1 %40, label %"loop_28:4", label %"exit_28:4"
}

define void @main() {
entry:
  %0 = call i32 @puts(ptr @0)
  %x = alloca i32, align 4
  store i32 10, ptr %x, align 4
  %xp = alloca ptr, align 8
  store ptr %x, ptr %xp, align 8
  %y = alloca i32, align 4
  %1 = load ptr, ptr %xp, align 8
  %2 = load i32, ptr %1, align 4
  store i32 %2, ptr %y, align 4
  %ya = alloca ptr, align 8
  %3 = load i32, ptr %y, align 4
  %4 = call ptr @"<global>::int_to_str"(i32 %3)
  store ptr %4, ptr %ya, align 8
  %5 = load ptr, ptr %ya, align 8
  %6 = call i32 @puts(ptr %5)
  ret void
}

define i32 @"std::bruh"(%Test %0) {
entry:
  %x = alloca i32, align 4
  %1 = extractvalue %Test %0, 0
  store i32 %1, ptr %x, align 4
  %2 = load i32, ptr %x, align 4
  ret i32 %2
}

Hello, world!
01
Program(
    [
        AST {
            content: DeclareFn {
                name: Ident(
                    "puts",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "str",
                        ),
                        type_spec: AST {
                            content: Ptr(
                                AST {
                                    content: Named(
                                        Ident(
                                            "u8",
                                        ),
                                    ),
                                    span: {start = 1:21, end = 1:23},
                                },
                            ),
                            span: {start = 1:20, end = 1:23},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Named(
                            Ident(
                                "i32",
                            ),
                        ),
                        span: {start = 1:25, end = 1:28},
                    },
                ),
            },
            span: {start = 1:0, end = 3:0},
        },
        AST {
            content: DeclareFn {
                name: Ident(
                    "malloc",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "sz",
                        ),
                        type_spec: AST {
                            content: Named(
                                Ident(
                                    "isize",
                                ),
                            ),
                            span: {start = 3:21, end = 3:26},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Ptr(
                            AST {
                                content: Named(
                                    Ident(
                                        "unit",
                                    ),
                                ),
                                span: {start = 3:29, end = 3:33},
                            },
                        ),
                        span: {start = 3:28, end = 3:33},
                    },
                ),
            },
            span: {start = 3:0, end = 5:0},
        },
        AST {
            content: DeclareFn {
                name: Ident(
                    "free",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "_",
                        ),
                        type_spec: AST {
                            content: Ptr(
                                AST {
                                    content: Named(
                                        Ident(
                                            "unit",
                                        ),
                                    ),
                                    span: {start = 5:19, end = 5:23},
                                },
                            ),
                            span: {start = 5:18, end = 5:23},
                        },
                    },
                ],
                ty: None,
            },
            span: {start = 5:0, end = 7:0},
        },
        AST {
            content: Fn {
                name: Ident(
                    "int_to_str",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "n",
                        ),
                        type_spec: AST {
                            content: Named(
                                Ident(
                                    "i32",
                                ),
                            ),
                            span: {start = 7:16, end = 7:19},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Ptr(
                            AST {
                                content: Named(
                                    Ident(
                                        "u8",
                                    ),
                                ),
                                span: {start = 7:22, end = 7:24},
                            },
                        ),
                        span: {start = 7:21, end = 7:24},
                    },
                ),
                body: AST {
                    content: Block(
                        Block {
                            body: [
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "num",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Identifier(
                                                Ident(
                                                    "n",
                                                ),
                                            ),
                                            span: {start = 8:14, end = 8:15},
                                        },
                                    },
                                    span: {start = 8:4, end = 8:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "out",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Cast {
                                                op: AST {
                                                    content: Call {
                                                        func: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "malloc",
                                                                ),
                                                            ),
                                                            span: {start = 9:14, end = 9:20},
                                                        },
                                                        args: [
                                                            AST {
                                                                content: Cast {
                                                                    op: AST {
                                                                        content: Integer(
                                                                            100,
                                                                            None,
                                                                        ),
                                                                        span: {start = 9:21, end = 9:24},
                                                                    },
                                                                    typ: Named(
                                                                        Ident(
                                                                            "isize",
                                                                        ),
                                                                    ),
                                                                },
                                                                span: {start = 9:21, end = 9:33},
                                                            },
                                                        ],
                                                    },
                                                    span: {start = 9:14, end = 9:34},
                                                },
                                                typ: Ptr(
                                                    AST {
                                                        content: Named(
                                                            Ident(
                                                                "u8",
                                                            ),
                                                        ),
                                                        span: {start = 9:39, end = 9:41},
                                                    },
                                                ),
                                            },
                                            span: {start = 9:14, end = 9:41},
                                        },
                                    },
                                    span: {start = 9:4, end = 9:41},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "mem",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Identifier(
                                                Ident(
                                                    "out",
                                                ),
                                            ),
                                            span: {start = 11:14, end = 11:17},
                                        },
                                    },
                                    span: {start = 11:4, end = 11:17},
                                },
                                AST {
                                    content: While {
                                        cond: AST {
                                            content: Binary {
                                                op: NotEquals,
                                                lhs: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "num",
                                                        ),
                                                    ),
                                                    span: {start = 13:10, end = 13:14},
                                                },
                                                rhs: AST {
                                                    content: Integer(
                                                        0,
                                                        None,
                                                    ),
                                                    span: {start = 13:17, end = 13:19},
                                                },
                                            },
                                            span: {start = 13:10, end = 13:19},
                                        },
                                        block: Block {
                                            body: [
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "mem",
                                                                        ),
                                                                    ),
                                                                    span: {start = 14:9, end = 14:12},
                                                                },
                                                            ),
                                                            span: {start = 14:8, end = 14:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Cast {
                                                                        op: AST {
                                                                            content: Integer(
                                                                                48,
                                                                                None,
                                                                            ),
                                                                            span: {start = 14:15, end = 14:17},
                                                                        },
                                                                        typ: Named(
                                                                            Ident(
                                                                                "u8",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    span: {start = 14:15, end = 14:24},
                                                                },
                                                                rhs: AST {
                                                                    content: Cast {
                                                                        op: AST {
                                                                            content: Binary {
                                                                                op: Arith(
                                                                                    Modulo,
                                                                                ),
                                                                                lhs: AST {
                                                                                    content: Identifier(
                                                                                        Ident(
                                                                                            "num",
                                                                                        ),
                                                                                    ),
                                                                                    span: {start = 14:28, end = 14:32},
                                                                                },
                                                                                rhs: AST {
                                                                                    content: Integer(
                                                                                        10,
                                                                                        None,
                                                                                    ),
                                                                                    span: {start = 14:34, end = 14:36},
                                                                                },
                                                                            },
                                                                            span: {start = 14:28, end = 14:36},
                                                                        },
                                                                        typ: Named(
                                                                            Ident(
                                                                                "u8",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    span: {start = 14:26, end = 14:44},
                                                                },
                                                            },
                                                            span: {start = 14:15, end = 14:44},
                                                        },
                                                    },
                                                    span: {start = 14:8, end = 14:44},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "num",
                                                                ),
                                                            ),
                                                            span: {start = 15:8, end = 15:12},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Divide,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "num",
                                                                        ),
                                                                    ),
                                                                    span: {start = 15:14, end = 15:18},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        10,
                                                                        None,
                                                                    ),
                                                                    span: {start = 15:20, end = 15:22},
                                                                },
                                                            },
                                                            span: {start = 15:14, end = 15:22},
                                                        },
                                                    },
                                                    span: {start = 15:8, end = 15:22},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "mem",
                                                                ),
                                                            ),
                                                            span: {start = 16:8, end = 16:12},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "mem",
                                                                        ),
                                                                    ),
                                                                    span: {start = 16:14, end = 16:18},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 16:20, end = 16:21},
                                                                },
                                                            },
                                                            span: {start = 16:14, end = 16:21},
                                                        },
                                                    },
                                                    span: {start = 16:8, end = 16:21},
                                                },
                                            ],
                                            tail: None,
                                        },
                                    },
                                    span: {start = 13:4, end = 17:5},
                                },
                                AST {
                                    content: Error,
                                    span: {start = 1:0, end = 1:0},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "memb",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Binary {
                                                op: Arith(
                                                    Subtract,
                                                ),
                                                lhs: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "mem",
                                                        ),
                                                    ),
                                                    span: {start = 23:15, end = 23:19},
                                                },
                                                rhs: AST {
                                                    content: Integer(
                                                        1,
                                                        None,
                                                    ),
                                                    span: {start = 23:21, end = 23:22},
                                                },
                                            },
                                            span: {start = 23:15, end = 23:22},
                                        },
                                    },
                                    span: {start = 23:4, end = 23:22},
                                },
                                AST {
                                    content: While {
                                        cond: AST {
                                            content: Binary {
                                                op: And,
                                                lhs: AST {
                                                    content: Binary {
                                                        op: NotEquals,
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 25:10, end = 25:15},
                                                        },
                                                        rhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memb",
                                                                ),
                                                            ),
                                                            span: {start = 25:18, end = 25:23},
                                                        },
                                                    },
                                                    span: {start = 25:10, end = 25:23},
                                                },
                                                rhs: AST {
                                                    content: Binary {
                                                        op: NotEquals,
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 25:27, end = 25:32},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Subtract,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 25:35, end = 25:40},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 25:42, end = 25:44},
                                                                },
                                                            },
                                                            span: {start = 25:35, end = 25:44},
                                                        },
                                                    },
                                                    span: {start = 25:27, end = 25:44},
                                                },
                                            },
                                            span: {start = 25:10, end = 25:44},
                                        },
                                        block: Block {
                                            body: [
                                                AST {
                                                    content: Let {
                                                        name: Ident(
                                                            "tmp",
                                                        ),
                                                        ty: None,
                                                        value: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 26:19, end = 26:23},
                                                                },
                                                            ),
                                                            span: {start = 26:18, end = 26:23},
                                                        },
                                                    },
                                                    span: {start = 26:8, end = 26:23},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 27:9, end = 27:13},
                                                                },
                                                            ),
                                                            span: {start = 27:8, end = 27:14},
                                                        },
                                                        rhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 27:17, end = 27:21},
                                                                },
                                                            ),
                                                            span: {start = 27:16, end = 27:21},
                                                        },
                                                    },
                                                    span: {start = 27:8, end = 27:21},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 28:9, end = 28:13},
                                                                },
                                                            ),
                                                            span: {start = 28:8, end = 28:14},
                                                        },
                                                        rhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "tmp",
                                                                ),
                                                            ),
                                                            span: {start = 28:16, end = 28:19},
                                                        },
                                                    },
                                                    span: {start = 28:8, end = 28:19},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 30:8, end = 30:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 30:15, end = 30:20},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 30:22, end = 30:23},
                                                                },
                                                            },
                                                            span: {start = 30:15, end = 30:23},
                                                        },
                                                    },
                                                    span: {start = 30:8, end = 30:23},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memb",
                                                                ),
                                                            ),
                                                            span: {start = 31:8, end = 31:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Subtract,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 31:15, end = 31:20},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 31:22, end = 31:23},
                                                                },
                                                            },
                                                            span: {start = 31:15, end = 31:23},
                                                        },
                                                    },
                                                    span: {start = 31:8, end = 31:23},
                                                },
                                            ],
                                            tail: None,
                                        },
                                    },
                                    span: {start = 25:4, end = 32:5},
                                },
                                AST {
                                    content: Assign {
                                        lhs: AST {
                                            content: Deref(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "mem",
                                                        ),
                                                    ),
                                                    span: {start = 34:5, end = 34:8},
                                                },
                                            ),
                                            span: {start = 34:4, end = 34:9},
                                        },
                                        rhs: AST {
                                            content: Cast {
                                                op: AST {
                                                    content: Integer(
                                                        0,
                                                        None,
                                                    ),
                                                    span: {start = 34:11, end = 34:12},
                                                },
                                                typ: Named(
                                                    Ident(
                                                        "u8",
                                                    ),
                                                ),
                                            },
                                            span: {start = 34:11, end = 34:18},
                                        },
                                    },
                                    span: {start = 34:4, end = 34:18},
                                },
                            ],
                            tail: Some(
                                AST {
                                    content: Identifier(
                                        Ident(
                                            "out",
                                        ),
                                    ),
                                    span: {start = 36:4, end = 37:0},
                                },
                            ),
                        },
                    ),
                    span: {start = 7:26, end = 39:0},
                },
            },
            span: {start = 7:0, end = 39:0},
        },
        AST {
            content: Fn {
                name: Ident(
                    "main",
                ),
                args: [],
                ty: None,
                body: AST {
                    content: Block(
                        Block {
                            body: [
                                AST {
                                    content: Expr(
                                        AST {
                                            content: Call {
                                                func: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "puts",
                                                        ),
                                                    ),
                                                    span: {start = 41:4, end = 41:8},
                                                },
                                                args: [
                                                    AST {
                                                        content: String(
                                                            "Hello, world!",
                                                        ),
                                                        span: {start = 41:9, end = 41:24},
                                                    },
                                                ],
                                            },
                                            span: {start = 41:4, end = 41:25},
                                        },
                                    ),
                                    span: {start = 41:4, end = 41:25},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "x",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Integer(
                                                10,
                                                None,
                                            ),
                                            span: {start = 43:12, end = 43:14},
                                        },
                                    },
                                    span: {start = 43:4, end = 43:14},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "xp",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Addressof(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "x",
                                                        ),
                                                    ),
                                                    span: {start = 44:14, end = 44:15},
                                                },
                                            ),
                                            span: {start = 44:13, end = 44:15},
                                        },
                                    },
                                    span: {start = 44:4, end = 44:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "y",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Deref(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "xp",
                                                        ),
                                                    ),
                                                    span: {start = 46:13, end = 46:15},
                                                },
                                            ),
                                            span: {start = 46:12, end = 46:15},
                                        },
                                    },
                                    span: {start = 46:4, end = 46:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "ya",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Call {
                                                func: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "int_to_str",
                                                        ),
                                                    ),
                                                    span: {start = 48:13, end = 48:23},
                                                },
                                                args: [
                                                    AST {
                                                        content: Identifier(
                                                            Ident(
                                                                "y",
                                                            ),
                                                        ),
                                                        span: {start = 48:24, end = 48:25},
                                                    },
                                                ],
                                            },
                                            span: {start = 48:13, end = 48:26},
                                        },
                                    },
                                    span: {start = 48:4, end = 48:26},
                                },
                                AST {
                                    content: Expr(
                                        AST {
                                            content: Call {
                                                func: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "puts",
                                                        ),
                                                    ),
                                                    span: {start = 50:4, end = 50:8},
                                                },
                                                args: [
                                                    AST {
                                                        content: Identifier(
                                                            Ident(
                                                                "ya",
                                                            ),
                                                        ),
                                                        span: {start = 50:9, end = 50:11},
                                                    },
                                                ],
                                            },
                                            span: {start = 50:4, end = 50:12},
                                        },
                                    ),
                                    span: {start = 50:4, end = 50:12},
                                },
                            ],
                            tail: None,
                        },
                    ),
                    span: {start = 40:0, end = 53:0},
                },
            },
            span: {start = 39:0, end = 53:0},
        },
        AST {
            content: Mod {
                name: Ident(
                    "std",
                ),
                body: [
                    AST {
                        content: Struct(
                            StructDefSpec {
                                name: Ident(
                                    "Test",
                                ),
                                fields: [
                                    ArgSpec {
                                        name: Ident(
                                            "x",
                                        ),
                                        type_spec: AST {
                                            content: Named(
                                                Ident(
                                                    "i32",
                                                ),
                                            ),
                                            span: {start = 57:10, end = 57:13},
                                        },
                                    },
                                    ArgSpec {
                                        name: Ident(
                                            "y",
                                        ),
                                        type_spec: AST {
                                            content: Named(
                                                Ident(
                                                    "i32",
                                                ),
                                            ),
                                            span: {start = 58:10, end = 58:13},
                                        },
                                    },
                                ],
                            },
                        ),
                        span: {start = 55:4, end = 61:4},
                    },
                    AST {
                        content: Fn {
                            name: Ident(
                                "bruh",
                            ),
                            args: [
                                ArgSpec {
                                    name: Ident(
                                        "t",
                                    ),
                                    type_spec: AST {
                                        content: Named(
                                            Ident(
                                                "Test",
                                            ),
                                        ),
                                        span: {start = 61:14, end = 61:18},
                                    },
                                },
                            ],
                            ty: Some(
                                AST {
                                    content: Named(
                                        Ident(
                                            "i32",
                                        ),
                                    ),
                                    span: {start = 61:20, end = 61:23},
                                },
                            ),
                            body: AST {
                                content: Block(
                                    Block {
                                        body: [
                                            AST {
                                                content: Let {
                                                    name: Ident(
                                                        "x",
                                                    ),
                                                    ty: None,
                                                    value: AST {
                                                        content: Dot {
                                                            op: AST {
                                                                content: Identifier(
                                                                    Ident(
                                                                        "t",
                                                                    ),
                                                                ),
                                                                span: {start = 62:16, end = 62:17},
                                                            },
                                                            id: Ident(
                                                                "x",
                                                            ),
                                                        },
                                                        span: {start = 62:16, end = 62:19},
                                                    },
                                                },
                                                span: {start = 62:8, end = 62:19},
                                            },
                                        ],
                                        tail: Some(
                                            AST {
                                                content: Identifier(
                                                    Ident(
                                                        "x",
                                                    ),
                                                ),
                                                span: {start = 63:8, end = 64:4},
                                            },
                                        ),
                                    },
                                ),
                                span: {start = 61:25, end = 65:0},
                            },
                        },
                        span: {start = 61:4, end = 65:0},
                    },
                ],
                scope_id: OnceCell(
                    <uninit>,
                ),
            },
            span: {start = 53:0, end = 65:1},
        },
    ],
)
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
Program(
    [
        AST {
            content: DeclareFn {
                name: Ident(
                    "puts",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "str",
                        ),
                        type_spec: AST {
                            content: Ptr(
                                AST {
                                    content: Named(
                                        Ident(
                                            "u8",
                                        ),
                                    ),
                                    span: {start = 1:21, end = 1:23},
                                },
                            ),
                            span: {start = 1:20, end = 1:23},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Named(
                            Ident(
                                "i32",
                            ),
                        ),
                        span: {start = 1:25, end = 1:28},
                    },
                ),
            },
            span: {start = 1:0, end = 3:0},
        },
        AST {
            content: DeclareFn {
                name: Ident(
                    "malloc",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "sz",
                        ),
                        type_spec: AST {
                            content: Named(
                                Ident(
                                    "isize",
                                ),
                            ),
                            span: {start = 3:21, end = 3:26},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Ptr(
                            AST {
                                content: Named(
                                    Ident(
                                        "unit",
                                    ),
                                ),
                                span: {start = 3:29, end = 3:33},
                            },
                        ),
                        span: {start = 3:28, end = 3:33},
                    },
                ),
            },
            span: {start = 3:0, end = 5:0},
        },
        AST {
            content: DeclareFn {
                name: Ident(
                    "free",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "_",
                        ),
                        type_spec: AST {
                            content: Ptr(
                                AST {
                                    content: Named(
                                        Ident(
                                            "unit",
                                        ),
                                    ),
                                    span: {start = 5:19, end = 5:23},
                                },
                            ),
                            span: {start = 5:18, end = 5:23},
                        },
                    },
                ],
                ty: None,
            },
            span: {start = 5:0, end = 7:0},
        },
        AST {
            content: Fn {
                name: Ident(
                    "int_to_str",
                ),
                args: [
                    ArgSpec {
                        name: Ident(
                            "n",
                        ),
                        type_spec: AST {
                            content: Named(
                                Ident(
                                    "i32",
                                ),
                            ),
                            span: {start = 7:16, end = 7:19},
                        },
                    },
                ],
                ty: Some(
                    AST {
                        content: Ptr(
                            AST {
                                content: Named(
                                    Ident(
                                        "u8",
                                    ),
                                ),
                                span: {start = 7:22, end = 7:24},
                            },
                        ),
                        span: {start = 7:21, end = 7:24},
                    },
                ),
                body: AST {
                    content: Block(
                        Block {
                            body: [
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "num",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Identifier(
                                                Ident(
                                                    "n",
                                                ),
                                            ),
                                            span: {start = 8:14, end = 8:15},
                                        },
                                    },
                                    span: {start = 8:4, end = 8:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "out",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Cast {
                                                op: AST {
                                                    content: Call {
                                                        func: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "malloc",
                                                                ),
                                                            ),
                                                            span: {start = 9:14, end = 9:20},
                                                        },
                                                        args: [
                                                            AST {
                                                                content: Cast {
                                                                    op: AST {
                                                                        content: Integer(
                                                                            100,
                                                                            None,
                                                                        ),
                                                                        span: {start = 9:21, end = 9:24},
                                                                    },
                                                                    typ: Named(
                                                                        Ident(
                                                                            "isize",
                                                                        ),
                                                                    ),
                                                                },
                                                                span: {start = 9:21, end = 9:33},
                                                            },
                                                        ],
                                                    },
                                                    span: {start = 9:14, end = 9:34},
                                                },
                                                typ: Ptr(
                                                    AST {
                                                        content: Named(
                                                            Ident(
                                                                "u8",
                                                            ),
                                                        ),
                                                        span: {start = 9:39, end = 9:41},
                                                    },
                                                ),
                                            },
                                            span: {start = 9:14, end = 9:41},
                                        },
                                    },
                                    span: {start = 9:4, end = 9:41},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "mem",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Identifier(
                                                Ident(
                                                    "out",
                                                ),
                                            ),
                                            span: {start = 11:14, end = 11:17},
                                        },
                                    },
                                    span: {start = 11:4, end = 11:17},
                                },
                                AST {
                                    content: While {
                                        cond: AST {
                                            content: Binary {
                                                op: NotEquals,
                                                lhs: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "num",
                                                        ),
                                                    ),
                                                    span: {start = 13:10, end = 13:14},
                                                },
                                                rhs: AST {
                                                    content: Integer(
                                                        0,
                                                        None,
                                                    ),
                                                    span: {start = 13:17, end = 13:19},
                                                },
                                            },
                                            span: {start = 13:10, end = 13:19},
                                        },
                                        block: Block {
                                            body: [
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "mem",
                                                                        ),
                                                                    ),
                                                                    span: {start = 14:9, end = 14:12},
                                                                },
                                                            ),
                                                            span: {start = 14:8, end = 14:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Cast {
                                                                        op: AST {
                                                                            content: Integer(
                                                                                48,
                                                                                None,
                                                                            ),
                                                                            span: {start = 14:15, end = 14:17},
                                                                        },
                                                                        typ: Named(
                                                                            Ident(
                                                                                "u8",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    span: {start = 14:15, end = 14:24},
                                                                },
                                                                rhs: AST {
                                                                    content: Cast {
                                                                        op: AST {
                                                                            content: Binary {
                                                                                op: Arith(
                                                                                    Modulo,
                                                                                ),
                                                                                lhs: AST {
                                                                                    content: Identifier(
                                                                                        Ident(
                                                                                            "num",
                                                                                        ),
                                                                                    ),
                                                                                    span: {start = 14:28, end = 14:32},
                                                                                },
                                                                                rhs: AST {
                                                                                    content: Integer(
                                                                                        10,
                                                                                        None,
                                                                                    ),
                                                                                    span: {start = 14:34, end = 14:36},
                                                                                },
                                                                            },
                                                                            span: {start = 14:28, end = 14:36},
                                                                        },
                                                                        typ: Named(
                                                                            Ident(
                                                                                "u8",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    span: {start = 14:26, end = 14:44},
                                                                },
                                                            },
                                                            span: {start = 14:15, end = 14:44},
                                                        },
                                                    },
                                                    span: {start = 14:8, end = 14:44},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "num",
                                                                ),
                                                            ),
                                                            span: {start = 15:8, end = 15:12},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Divide,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "num",
                                                                        ),
                                                                    ),
                                                                    span: {start = 15:14, end = 15:18},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        10,
                                                                        None,
                                                                    ),
                                                                    span: {start = 15:20, end = 15:22},
                                                                },
                                                            },
                                                            span: {start = 15:14, end = 15:22},
                                                        },
                                                    },
                                                    span: {start = 15:8, end = 15:22},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "mem",
                                                                ),
                                                            ),
                                                            span: {start = 16:8, end = 16:12},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "mem",
                                                                        ),
                                                                    ),
                                                                    span: {start = 16:14, end = 16:18},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 16:20, end = 16:21},
                                                                },
                                                            },
                                                            span: {start = 16:14, end = 16:21},
                                                        },
                                                    },
                                                    span: {start = 16:8, end = 16:21},
                                                },
                                            ],
                                            tail: None,
                                        },
                                    },
                                    span: {start = 13:4, end = 17:5},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "memf",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Identifier(
                                                Ident(
                                                    "out",
                                                ),
                                            ),
                                            span: {start = 21:15, end = 21:18},
                                        },
                                    },
                                    span: {start = 21:4, end = 21:18},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "memb",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Binary {
                                                op: Arith(
                                                    Subtract,
                                                ),
                                                lhs: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "mem",
                                                        ),
                                                    ),
                                                    span: {start = 22:15, end = 22:19},
                                                },
                                                rhs: AST {
                                                    content: Integer(
                                                        1,
                                                        None,
                                                    ),
                                                    span: {start = 22:21, end = 22:22},
                                                },
                                            },
                                            span: {start = 22:15, end = 22:22},
                                        },
                                    },
                                    span: {start = 22:4, end = 22:22},
                                },
                                AST {
                                    content: While {
                                        cond: AST {
                                            content: Binary {
                                                op: And,
                                                lhs: AST {
                                                    content: Binary {
                                                        op: NotEquals,
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 24:10, end = 24:15},
                                                        },
                                                        rhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memb",
                                                                ),
                                                            ),
                                                            span: {start = 24:18, end = 24:23},
                                                        },
                                                    },
                                                    span: {start = 24:10, end = 24:23},
                                                },
                                                rhs: AST {
                                                    content: Binary {
                                                        op: NotEquals,
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 24:27, end = 24:32},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Subtract,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 24:35, end = 24:40},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 24:42, end = 24:44},
                                                                },
                                                            },
                                                            span: {start = 24:35, end = 24:44},
                                                        },
                                                    },
                                                    span: {start = 24:27, end = 24:44},
                                                },
                                            },
                                            span: {start = 24:10, end = 24:44},
                                        },
                                        block: Block {
                                            body: [
                                                AST {
                                                    content: Let {
                                                        name: Ident(
                                                            "tmp",
                                                        ),
                                                        ty: None,
                                                        value: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 25:19, end = 25:23},
                                                                },
                                                            ),
                                                            span: {start = 25:18, end = 25:23},
                                                        },
                                                    },
                                                    span: {start = 25:8, end = 25:23},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 26:9, end = 26:13},
                                                                },
                                                            ),
                                                            span: {start = 26:8, end = 26:14},
                                                        },
                                                        rhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 26:17, end = 26:21},
                                                                },
                                                            ),
                                                            span: {start = 26:16, end = 26:21},
                                                        },
                                                    },
                                                    span: {start = 26:8, end = 26:21},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Deref(
                                                                AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 27:9, end = 27:13},
                                                                },
                                                            ),
                                                            span: {start = 27:8, end = 27:14},
                                                        },
                                                        rhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "tmp",
                                                                ),
                                                            ),
                                                            span: {start = 27:16, end = 27:19},
                                                        },
                                                    },
                                                    span: {start = 27:8, end = 27:19},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memf",
                                                                ),
                                                            ),
                                                            span: {start = 29:8, end = 29:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Add,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memf",
                                                                        ),
                                                                    ),
                                                                    span: {start = 29:15, end = 29:20},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 29:22, end = 29:23},
                                                                },
                                                            },
                                                            span: {start = 29:15, end = 29:23},
                                                        },
                                                    },
                                                    span: {start = 29:8, end = 29:23},
                                                },
                                                AST {
                                                    content: Assign {
                                                        lhs: AST {
                                                            content: Identifier(
                                                                Ident(
                                                                    "memb",
                                                                ),
                                                            ),
                                                            span: {start = 30:8, end = 30:13},
                                                        },
                                                        rhs: AST {
                                                            content: Binary {
                                                                op: Arith(
                                                                    Subtract,
                                                                ),
                                                                lhs: AST {
                                                                    content: Identifier(
                                                                        Ident(
                                                                            "memb",
                                                                        ),
                                                                    ),
                                                                    span: {start = 30:15, end = 30:20},
                                                                },
                                                                rhs: AST {
                                                                    content: Integer(
                                                                        1,
                                                                        None,
                                                                    ),
                                                                    span: {start = 30:22, end = 30:23},
                                                                },
                                                            },
                                                            span: {start = 30:15, end = 30:23},
                                                        },
                                                    },
                                                    span: {start = 30:8, end = 30:23},
                                                },
                                            ],
                                            tail: None,
                                        },
                                    },
                                    span: {start = 24:4, end = 31:5},
                                },
                                AST {
                                    content: Assign {
                                        lhs: AST {
                                            content: Deref(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "mem",
                                                        ),
                                                    ),
                                                    span: {start = 33:5, end = 33:8},
                                                },
                                            ),
                                            span: {start = 33:4, end = 33:9},
                                        },
                                        rhs: AST {
                                            content: Cast {
                                                op: AST {
                                                    content: Integer(
                                                        0,
                                                        None,
                                                    ),
                                                    span: {start = 33:11, end = 33:12},
                                                },
                                                typ: Named(
                                                    Ident(
                                                        "u8",
                                                    ),
                                                ),
                                            },
                                            span: {start = 33:11, end = 33:18},
                                        },
                                    },
                                    span: {start = 33:4, end = 33:18},
                                },
                            ],
                            tail: Some(
                                AST {
                                    content: Identifier(
                                        Ident(
                                            "out",
                                        ),
                                    ),
                                    span: {start = 35:4, end = 36:0},
                                },
                            ),
                        },
                    ),
                    span: {start = 7:26, end = 38:0},
                },
            },
            span: {start = 7:0, end = 38:0},
        },
        AST {
            content: Fn {
                name: Ident(
                    "main",
                ),
                args: [],
                ty: None,
                body: AST {
                    content: Block(
                        Block {
                            body: [
                                AST {
                                    content: Expr(
                                        AST {
                                            content: Call {
                                                func: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "puts",
                                                        ),
                                                    ),
                                                    span: {start = 40:4, end = 40:8},
                                                },
                                                args: [
                                                    AST {
                                                        content: String(
                                                            "Hello, world!",
                                                        ),
                                                        span: {start = 40:9, end = 40:24},
                                                    },
                                                ],
                                            },
                                            span: {start = 40:4, end = 40:25},
                                        },
                                    ),
                                    span: {start = 40:4, end = 40:25},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "x",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Integer(
                                                10,
                                                None,
                                            ),
                                            span: {start = 42:12, end = 42:14},
                                        },
                                    },
                                    span: {start = 42:4, end = 42:14},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "xp",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Addressof(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "x",
                                                        ),
                                                    ),
                                                    span: {start = 43:14, end = 43:15},
                                                },
                                            ),
                                            span: {start = 43:13, end = 43:15},
                                        },
                                    },
                                    span: {start = 43:4, end = 43:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "y",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Deref(
                                                AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "xp",
                                                        ),
                                                    ),
                                                    span: {start = 45:13, end = 45:15},
                                                },
                                            ),
                                            span: {start = 45:12, end = 45:15},
                                        },
                                    },
                                    span: {start = 45:4, end = 45:15},
                                },
                                AST {
                                    content: Let {
                                        name: Ident(
                                            "ya",
                                        ),
                                        ty: None,
                                        value: AST {
                                            content: Call {
                                                func: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "int_to_str",
                                                        ),
                                                    ),
                                                    span: {start = 47:13, end = 47:23},
                                                },
                                                args: [
                                                    AST {
                                                        content: Identifier(
                                                            Ident(
                                                                "y",
                                                            ),
                                                        ),
                                                        span: {start = 47:24, end = 47:25},
                                                    },
                                                ],
                                            },
                                            span: {start = 47:13, end = 47:26},
                                        },
                                    },
                                    span: {start = 47:4, end = 47:26},
                                },
                                AST {
                                    content: Expr(
                                        AST {
                                            content: Call {
                                                func: AST {
                                                    content: Identifier(
                                                        Ident(
                                                            "puts",
                                                        ),
                                                    ),
                                                    span: {start = 49:4, end = 49:8},
                                                },
                                                args: [
                                                    AST {
                                                        content: Identifier(
                                                            Ident(
                                                                "ya",
                                                            ),
                                                        ),
                                                        span: {start = 49:9, end = 49:11},
                                                    },
                                                ],
                                            },
                                            span: {start = 49:4, end = 49:12},
                                        },
                                    ),
                                    span: {start = 49:4, end = 49:12},
                                },
                            ],
                            tail: None,
                        },
                    ),
                    span: {start = 39:0, end = 52:0},
                },
            },
            span: {start = 38:0, end = 52:0},
        },
        AST {
            content: Mod {
                name: Ident(
                    "std",
                ),
                body: [
                    AST {
                        content: Struct(
                            StructDefSpec {
                                name: Ident(
                                    "Test",
                                ),
                                fields: [
                                    ArgSpec {
                                        name: Ident(
                                            "x",
                                        ),
                                        type_spec: AST {
                                            content: Named(
                                                Ident(
                                                    "i32",
                                                ),
                                            ),
                                            span: {start = 56:10, end = 56:13},
                                        },
                                    },
                                    ArgSpec {
                                        name: Ident(
                                            "y",
                                        ),
                                        type_spec: AST {
                                            content: Named(
                                                Ident(
                                                    "i32",
                                                ),
                                            ),
                                            span: {start = 57:10, end = 57:13},
                                        },
                                    },
                                ],
                            },
                        ),
                        span: {start = 54:4, end = 60:4},
                    },
                    AST {
                        content: Fn {
                            name: Ident(
                                "bruh",
                            ),
                            args: [
                                ArgSpec {
                                    name: Ident(
                                        "t",
                                    ),
                                    type_spec: AST {
                                        content: Named(
                                            Ident(
                                                "Test",
                                            ),
                                        ),
                                        span: {start = 60:14, end = 60:18},
                                    },
                                },
                            ],
                            ty: Some(
                                AST {
                                    content: Named(
                                        Ident(
                                            "i32",
                                        ),
                                    ),
                                    span: {start = 60:20, end = 60:23},
                                },
                            ),
                            body: AST {
                                content: Block(
                                    Block {
                                        body: [
                                            AST {
                                                content: Let {
                                                    name: Ident(
                                                        "x",
                                                    ),
                                                    ty: None,
                                                    value: AST {
                                                        content: Dot {
                                                            op: AST {
                                                                content: Identifier(
                                                                    Ident(
                                                                        "t",
                                                                    ),
                                                                ),
                                                                span: {start = 61:16, end = 61:17},
                                                            },
                                                            id: Ident(
                                                                "x",
                                                            ),
                                                        },
                                                        span: {start = 61:16, end = 61:19},
                                                    },
                                                },
                                                span: {start = 61:8, end = 61:19},
                                            },
                                        ],
                                        tail: Some(
                                            AST {
                                                content: Identifier(
                                                    Ident(
                                                        "x",
                                                    ),
                                                ),
                                                span: {start = 62:8, end = 63:4},
                                            },
                                        ),
                                    },
                                ),
                                span: {start = 60:25, end = 64:0},
                            },
                        },
                        span: {start = 60:4, end = 64:0},
                    },
                ],
                scope_id: OnceCell(
                    <uninit>,
                ),
            },
            span: {start = 52:0, end = 64:1},
        },
    ],
)
"  %3 = load i32, ptr %num, align 4" Literal(Int(I32))
; ModuleID = 'output'
source_filename = "output"

%Test = type { i32, i32 }

@0 = private unnamed_addr constant [14 x i8] c"Hello, world!\00", align 1

declare i32 @puts(ptr)

declare ptr @malloc(i64)

declare void @free(ptr)

define ptr @"<global>::int_to_str"(i32 %0) {
entry:
  %num = alloca i32, align 4
  store i32 %0, ptr %num, align 4
  %out = alloca ptr, align 8
  %1 = call ptr @malloc(i64 100)
  store ptr %1, ptr %out, align 8
  %mem = alloca ptr, align 8
  %2 = load ptr, ptr %out, align 8
  store ptr %2, ptr %mem, align 8
  br label %"cond_13:4"

"cond_13:4":                                      ; preds = %"loop_13:4", %entry
  %3 = load i32, ptr %num, align 4
  %4 = icmp eq i32 %3, 0
  %5 = xor i1 %4, true
  br i1 %5, label %"loop_13:4", label %"exit_13:4"

"loop_13:4":                                      ; preds = %"cond_13:4"
  %6 = load ptr, ptr %mem, align 8
  %7 = load i32, ptr %num, align 4
  %8 = srem i32 %7, 10
  %9 = trunc i32 %8 to i8
  %10 = add i8 48, %9
  store i8 %10, ptr %6, align 1
  %11 = load i32, ptr %num, align 4
  %12 = sdiv i32 %11, 10
  store i32 %12, ptr %num, align 4
  %13 = load ptr, ptr %mem, align 8
  %14 = getelementptr i8, ptr %13, i32 1
  store ptr %14, ptr %mem, align 8
  br label %"cond_13:4"

"exit_13:4":                                      ; preds = %"cond_13:4"
  %memf = alloca ptr, align 8
  %15 = load ptr, ptr %out, align 8
  store ptr %15, ptr %memf, align 8
  %memb = alloca ptr, align 8
  %16 = load ptr, ptr %mem, align 8
  %17 = getelementptr i8, ptr %16, i32 -1
  store ptr %17, ptr %memb, align 8
  br label %"cond_24:4"

"cond_24:4":                                      ; preds = %"loop_24:4", %"exit_13:4"
  %18 = load ptr, ptr %memf, align 8
  %19 = load ptr, ptr %memb, align 8
  %20 = icmp eq ptr %18, %19
  %21 = xor i1 %20, true
  br i1 %21, label %"on_first_true_24:10", label %"on_end_and_24:10"

"loop_24:4":                                      ; preds = %"on_end_and_24:10"
  %tmp = alloca i8, align 1
  %22 = load ptr, ptr %memf, align 8
  %23 = load i8, ptr %22, align 1
  store i8 %23, ptr %tmp, align 1
  %24 = load ptr, ptr %memf, align 8
  %25 = load ptr, ptr %memb, align 8
  %26 = load i8, ptr %25, align 1
  store i8 %26, ptr %24, align 1
  %27 = load ptr, ptr %memb, align 8
  %28 = load i8, ptr %tmp, align 1
  store i8 %28, ptr %27, align 1
  %29 = load ptr, ptr %memf, align 8
  %30 = getelementptr i8, ptr %29, i32 1
  store ptr %30, ptr %memf, align 8
  %31 = load ptr, ptr %memb, align 8
  %32 = getelementptr i8, ptr %31, i32 -1
  store ptr %32, ptr %memb, align 8
  br label %"cond_24:4"

"exit_24:4":                                      ; preds = %"on_end_and_24:10"
  %33 = load ptr, ptr %mem, align 8
  store i8 0, ptr %33, align 1
  %34 = load ptr, ptr %out, align 8
  ret ptr %34

"on_first_true_24:10":                            ; preds = %"cond_24:4"
  %35 = load ptr, ptr %memf, align 8
  %36 = load ptr, ptr %memb, align 8
  %37 = getelementptr i8, ptr %36, i32 -1
  %38 = icmp eq ptr %35, %37
  %39 = xor i1 %38, true
  br label %"on_end_and_24:10"

"on_end_and_24:10":                               ; preds = %"on_first_true_24:10", %"cond_24:4"
  %40 = phi i1 [ false, %"cond_24:4" ], [ %39, %"on_first_true_24:10" ]
  br i1 %40, label %"loop_24:4", label %"exit_24:4"
}

define void @main() {
entry:
  %0 = call i32 @puts(ptr @0)
  %x = alloca i32, align 4
  store i32 10, ptr %x, align 4
  %xp = alloca ptr, align 8
  store ptr %x, ptr %xp, align 8
  %y = alloca i32, align 4
  %1 = load ptr, ptr %xp, align 8
  %2 = load i32, ptr %1, align 4
  store i32 %2, ptr %y, align 4
  %ya = alloca ptr, align 8
  %3 = load i32, ptr %y, align 4
  %4 = call ptr @"<global>::int_to_str"(i32 %3)
  store ptr %4, ptr %ya, align 8
  %5 = load ptr, ptr %ya, align 8
  %6 = call i32 @puts(ptr %5)
  ret void
}

define i32 @"std::bruh"(%Test %0) {
entry:
  %x = alloca i32, align 4
  %1 = extractvalue %Test %0, 0
  store i32 %1, ptr %x, align 4
  %2 = load i32, ptr %x, align 4
  ret i32 %2
}

Hello, world!
01
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
STEPPING
"  %3 = load i32, ptr %num, align 4" Literal(Int(I32))
; ModuleID = 'output'
source_filename = "output"

%Test = type { i32, i32 }

@0 = private unnamed_addr constant [14 x i8] c"Hello, world!\00", align 1

declare i32 @puts(ptr)

declare ptr @malloc(i64)

declare void @free(ptr)

define ptr @"<global>::int_to_str"(i32 %0) {
entry:
  %num = alloca i32, align 4
  store i32 %0, ptr %num, align 4
  %out = alloca ptr, align 8
  %1 = call ptr @malloc(i64 100)
  store ptr %1, ptr %out, align 8
  %mem = alloca ptr, align 8
  %2 = load ptr, ptr %out, align 8
  store ptr %2, ptr %mem, align 8
  br label %"cond_13:4"

"cond_13:4":                                      ; preds = %"loop_13:4", %entry
  %3 = load i32, ptr %num, align 4
  %4 = icmp eq i32 %3, 0
  %5 = xor i1 %4, true
  br i1 %5, label %"loop_13:4", label %"exit_13:4"

"loop_13:4":                                      ; preds = %"cond_13:4"
  %6 = load ptr, ptr %mem, align 8
  %7 = load i32, ptr %num, align 4
  %8 = srem i32 %7, 10
  %9 = trunc i32 %8 to i8
  %10 = add i8 48, %9
  store i8 %10, ptr %6, align 1
  %11 = load i32, ptr %num, align 4
  %12 = sdiv i32 %11, 10
  store i32 %12, ptr %num, align 4
  %13 = load ptr, ptr %mem, align 8
  %14 = getelementptr i8, ptr %13, i32 1
  store ptr %14, ptr %mem, align 8
  br label %"cond_13:4"

"exit_13:4":                                      ; preds = %"cond_13:4"
  %memf = alloca ptr, align 8
  %15 = load ptr, ptr %out, align 8
  store ptr %15, ptr %memf, align 8
  %memb = alloca ptr, align 8
  %16 = load ptr, ptr %mem, align 8
  %17 = getelementptr i8, ptr %16, i32 -1
  store ptr %17, ptr %memb, align 8
  br label %"cond_24:4"

"cond_24:4":                                      ; preds = %"loop_24:4", %"exit_13:4"
  %18 = load ptr, ptr %memf, align 8
  %19 = load ptr, ptr %memb, align 8
  %20 = icmp eq ptr %18, %19
  %21 = xor i1 %20, true
  br i1 %21, label %"on_first_true_24:10", label %"on_end_and_24:10"

"loop_24:4":                                      ; preds = %"on_end_and_24:10"
  %tmp = alloca i8, align 1
  %22 = load ptr, ptr %memf, align 8
  %23 = load i8, ptr %22, align 1
  store i8 %23, ptr %tmp, align 1
  %24 = load ptr, ptr %memf, align 8
  %25 = load ptr, ptr %memb, align 8
  %26 = load i8, ptr %25, align 1
  store i8 %26, ptr %24, align 1
  %27 = load ptr, ptr %memb, align 8
  %28 = load i8, ptr %tmp, align 1
  store i8 %28, ptr %27, align 1
  %29 = load ptr, ptr %memf, align 8
  %30 = getelementptr i8, ptr %29, i32 1
  store ptr %30, ptr %memf, align 8
  %31 = load ptr, ptr %memb, align 8
  %32 = getelementptr i8, ptr %31, i32 -1
  store ptr %32, ptr %memb, align 8
  br label %"cond_24:4"

"exit_24:4":                                      ; preds = %"on_end_and_24:10"
  %33 = load ptr, ptr %mem, align 8
  store i8 0, ptr %33, align 1
  %34 = load ptr, ptr %out, align 8
  ret ptr %34

"on_first_true_24:10":                            ; preds = %"cond_24:4"
  %35 = load ptr, ptr %memf, align 8
  %36 = load ptr, ptr %memb, align 8
  %37 = getelementptr i8, ptr %36, i32 -1
  %38 = icmp eq ptr %35, %37
  %39 = xor i1 %38, true
  br label %"on_end_and_24:10"

"on_end_and_24:10":                               ; preds = %"on_first_true_24:10", %"cond_24:4"
  %40 = phi i1 [ false, %"cond_24:4" ], [ %39, %"on_first_true_24:10" ]
  br i1 %40, label %"loop_24:4", label %"exit_24:4"
}

define void @main() {
entry:
  %0 = call i32 @puts(ptr @0)
  %x = alloca i32, align 4
  store i32 10, ptr %x, align 4
  %xp = alloca ptr, align 8
  store ptr %x, ptr %xp, align 8
  %y = alloca i32, align 4
  %1 = load ptr, ptr %xp, align 8
  %2 = load i32, ptr %1, align 4
  store i32 %2, ptr %y, align 4
  %ya = alloca ptr, align 8
  %3 = load i32, ptr %y, align 4
  %4 = call ptr @"<global>::int_to_str"(i32 %3)
  store ptr %4, ptr %ya, align 8
  %5 = load ptr, ptr %ya, align 8
  %6 = call i32 @puts(ptr %5)
  ret void
}

define i32 @"std::bruh"(%Test %0) {
entry:
  %x = alloca i32, align 4
  %1 = extractvalue %Test %0, 0
  store i32 %1, ptr %x, align 4
  %2 = load i32, ptr %x, align 4
  ret i32 %2
}

Hello, world!
01
